<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Python之NumPy详解 | 江湖是你画中亦是你</title><meta name="keywords" content="科学计算,Numpy,数据分析"><meta name="author" content="Xiaotangsmiles"><meta name="copyright" content="Xiaotangsmiles"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="NumPy(Numerical Python) 是Python语言的一个数值计算扩展程序库，支持大量的维度数组与矩阵运算，此外也针对数组运算提供大量的数学函数库。 NumPy的前身Numeric最早是由Jim Hugunin与其它协作者共同开发，2005年，Travis Oliphant在Numeric中结合了另一个同性质的程序库Numarray的特色，并加入了其它扩展而开发了NumPy。NumP">
<meta property="og:type" content="article">
<meta property="og:title" content="Python之NumPy详解">
<meta property="og:url" content="https://heartlovelife.github.io/2023/02/13/Python-Numpy/index.html">
<meta property="og:site_name" content="江湖是你画中亦是你">
<meta property="og:description" content="NumPy(Numerical Python) 是Python语言的一个数值计算扩展程序库，支持大量的维度数组与矩阵运算，此外也针对数组运算提供大量的数学函数库。 NumPy的前身Numeric最早是由Jim Hugunin与其它协作者共同开发，2005年，Travis Oliphant在Numeric中结合了另一个同性质的程序库Numarray的特色，并加入了其它扩展而开发了NumPy。NumP">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2023/02/19/uvEtzfpj8P9TANy.jpg">
<meta property="article:published_time" content="2023-02-13T13:12:55.000Z">
<meta property="article:modified_time" content="2023-03-07T13:53:18.284Z">
<meta property="article:author" content="Xiaotangsmiles">
<meta property="article:tag" content="科学计算">
<meta property="article:tag" content="Numpy">
<meta property="article:tag" content="数据分析">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2023/02/19/uvEtzfpj8P9TANy.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://heartlovelife.github.io/2023/02/13/Python-Numpy/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":250},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Python之NumPy详解',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-03-07 21:53:18'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/loading1.gif" data-original="/img/touxiang.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">21</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">21</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/photos/"><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><span> 影视</span></a></li><li><a class="site-page child" href="/shuoshuo/"><span> 分享</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s2.loli.net/2023/02/19/uvEtzfpj8P9TANy.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">江湖是你画中亦是你</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/photos/"><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><span> 影视</span></a></li><li><a class="site-page child" href="/shuoshuo/"><span> 分享</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><span> 关于笔者</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Python之NumPy详解</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-02-13T13:12:55.000Z" title="发表于 2023-02-13 21:12:55">2023-02-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-03-07T13:53:18.284Z" title="更新于 2023-03-07 21:53:18">2023-03-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Python/">Python</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">19.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>79分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Python之NumPy详解"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p><code>NumPy</code>(Numerical Python) 是<code>Python</code>语言的一个数值计算扩展程序库，支持大量的维度数组与矩阵运算，此外也针对数组运算提供大量的数学函数库。</p>
<p><code>NumPy</code>的前身<code>Numeric</code>最早是由Jim Hugunin与其它协作者共同开发，2005年，Travis Oliphant在<code>Numeric</code>中结合了另一个同性质的程序库<code>Numarray</code>的特色，并加入了其它扩展而开发了<code>NumPy</code>。<code>NumPy</code>为开放源代码并且由许多协作者共同维护开发。</p>
<p><code>NumPy</code>是一个运行速度非常快的数学库，主要用于数组计算，包含：</p>
<ul>
<li>一个强大的N维数组对象<code>ndarray</code>，对数组进行函数运算；</li>
<li>数值积分；</li>
<li>广播功能函数；</li>
<li>整合<code>C/C++/Fortran</code>代码的工具；</li>
<li>线性代数、傅里叶变换、随机数生成等功能。</li>
</ul>
<p><code>NumPy</code>通常与<code>SciPy</code>（Scientific Python）和<code>Matplotlib</code>（绘图库）一起使用， 这种组合广泛用于替代<code>MatLab</code>，是一个强大的科学计算环境，有助于我们通过<code>Python</code>学习数据科学或者机器学习。</p>
<p><code>SciPy</code>是一个开源的<code>Python</code>算法库和数学工具包。<code>SciPy</code>包含的模块有<strong>最优化</strong>、<strong>线性代数</strong>、<strong>积分</strong>、<strong>插值</strong>、<strong>特殊函数</strong>、<strong>快速傅里叶变换</strong>、<strong>信号处理和图像处理</strong>、<strong>常微分方程求解</strong>和其他科学与工程中常用的计算。</p>
<p><code>Matplotlib</code>是<code>Python</code>编程语言及其数值数学扩展包<code>NumPy</code>的可视化操作界面。它为利用通用的图形用户界面工具包，如<code>Tkinter</code>, <code>wxPython</code>, <code>Qt</code>或<code>GTK+</code>向应用程序嵌入式绘图提供了应用程序接（<code>API</code>）。</p>
<p>标准的<code>Python</code>中用<code>list</code>（列表）保存值，可以当做数组使用，但因为列表中的元素可以是任何对象，所以浪费了<code>CPU</code>运算时间和内存。NumPy诞生为了弥补这些缺陷，它提供了两种基本的对象。</p>
<ul>
<li><code>ndarray</code>：全称（n-dimensional array object）是储存<strong>单一数据类型</strong>的多维数组；</li>
<li><code>ufunc</code>：全称（universal function object）它是一种能够对数组进行处理的函数。</li>
</ul>
<p><code>NumPy</code>官网（<a target="_blank" rel="noopener" href="https://numpy.org/%EF%BC%89">https://numpy.org/）</a></p>
<p><code>SciPy</code>官网（<a target="_blank" rel="noopener" href="https://scipy.org/%EF%BC%89">https://scipy.org/）</a></p>
<p><code>Matplotlib</code>官网（<a target="_blank" rel="noopener" href="https://matplotlib.org/%EF%BC%89">https://matplotlib.org/）</a></p>
<h2 id="⛄ndarray对象"><a href="#⛄ndarray对象" class="headerlink" title="⛄ndarray对象"></a>⛄ndarray对象</h2><p><code>NumPy</code>最重要的一个特点是其<code>N</code>维数组对象<code>ndarray</code>，它是一系列同类型数据的集合，以<code>0</code>下标为开始进行集合中元素的索引。<code>NumPy</code>里面所有的函数都是围绕<code>ndarray</code>展开的。</p>
<p><code>ndarray</code>对象是用于存放同类型元素的多维数组。</p>
<p><code>ndarray</code>中的每个元素在内存中都有相同存储大小的区域。</p>
<p><code>ndarray</code>内部由以下内容组成：</p>
<ul>
<li>一个指向数据（内存或内存映射文件中的一块数据）的指针；</li>
<li>数据类型或<code>dtype</code>，描述在数组中的固定大小值的格子；</li>
<li>一个表示数组形状（<code>shape</code>）的元组，表示各维度大小的元组；</li>
<li>一个跨度元组（<code>stride</code>），其中的整数指的是为了前进到当前维度下一个元素需要”跨过”的字节数。跨度可以是负数，这样会使数组在内存中后向移动，切片中 <strong>obj[::-1]</strong> 或 <strong>obj[:,::-1]</strong> 就是如此</li>
</ul>
<h3 id="👀ndarray的创建"><a href="#👀ndarray的创建" class="headerlink" title="👀ndarray的创建"></a>👀ndarray的创建</h3><h4 id="👁numpy-array-函数创建"><a href="#👁numpy-array-函数创建" class="headerlink" title="👁numpy.array()函数创建"></a>👁<code>numpy.array()</code>函数创建</h4><p>创建一个<code>ndarray</code>只需调用<code>NumPy</code>的<code>array</code>函数即可：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numpy.array(<span class="built_in">object</span>, dtype = <span class="literal">None</span>, copy = <span class="literal">True</span>, order = <span class="literal">None</span>, subok = <span class="literal">False</span>, ndmin = <span class="number">0</span>)</span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="built_in">object</span>	数组或嵌套的数列</span><br><span class="line">dtype	数组元素的数据类型，可选</span><br><span class="line">copy	对象是否需要复制，可选</span><br><span class="line">order	创建数组的样式，C为行方向，F为列方向，A为任意方向（默认）</span><br><span class="line">subok	默认返回一个与基类类型一致的数组</span><br><span class="line">ndmin	指定生成数组的最小维度</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例子</span></span><br><span class="line"><span class="comment"># dtype参数  </span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], dtype = <span class="built_in">complex</span>)  </span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="number">1.</span>+<span class="number">0.j</span> <span class="number">2.</span>+<span class="number">0.j</span> <span class="number">3.</span>+<span class="number">0.j</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 最小维度  </span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>], ndmin = <span class="number">2</span>)  </span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]]</span><br></pre></td></tr></table></figure>

<p><code>ndarray</code>对象由计算机内存的连续一维部分组成，并结合索引模式，将每个元素映射到内存块中的一个位置。内存块以行顺序(<code>C</code>样式)或列顺序(<code>FORTRAN</code>或<code>MatLab</code>风格，即前述的<code>F</code>样式)来保存元素。</p>
<h4 id="👁特殊函数创建"><a href="#👁特殊函数创建" class="headerlink" title="👁特殊函数创建"></a>👁特殊函数创建</h4><ul>
<li><code>numpy.empty()</code></li>
<li><code>numpy.zeros()</code></li>
<li><code>numpy.ones()</code></li>
<li><code>numpy.full()</code></li>
<li><code>numpy.random.*</code></li>
<li><code>numpy.eye()</code></li>
<li>……</li>
</ul>
<p>（1）<code>numpy.empty()</code>方法用来创建一个指定形状（<code>shape</code>）、数据类型（<code>dtype</code>）且未初始化的数组：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numpy.empty(shape, dtype = <span class="built_in">float</span>, order = <span class="string">&#x27;C&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line">shape	数组形状，可以是<span class="built_in">int</span>或是元组，也可以是列表，如：（<span class="number">3</span>，<span class="number">4</span>）<span class="keyword">or</span> <span class="number">3</span> <span class="keyword">or</span> [<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">dtype	数据类型，可选</span><br><span class="line">order	有<span class="string">&quot;C&quot;</span>和<span class="string">&quot;F&quot;</span>两个选项,分别代表，行优先和列优先，在计算机内存中的存储元素的顺序。</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例子</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line">x = np.empty([<span class="number">3</span>,<span class="number">2</span>], dtype = <span class="built_in">int</span>) </span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[ <span class="number">6917529027641081856</span>  <span class="number">5764616291768666155</span>]</span><br><span class="line"> [ <span class="number">6917529027641081859</span> -<span class="number">5764598754299804209</span>]</span><br><span class="line"> [          <span class="number">4497473538</span>      <span class="number">844429428932120</span>]]</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意</strong>：数组元素为随机值，因为它们未初始化。</p>
</blockquote>
<p>（2）<code>numpy.zeros()</code>创建指定大小的数组，数组元素以0来填充：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numpy.zeros(shape, dtype = <span class="built_in">float</span>, order = <span class="string">&#x27;C&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line">shape	数组形状</span><br><span class="line">dtype	数据类型，可选</span><br><span class="line">order	<span class="string">&#x27;C&#x27;</span>用于C的行数组，或者<span class="string">&#x27;F&#x27;</span>用于FORTRAN的列数组</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例子</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 默认为浮点数</span></span><br><span class="line">x = np.zeros(<span class="number">5</span>) </span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"><span class="comment"># 设置类型为整数</span></span><br><span class="line">y = np.zeros((<span class="number">5</span>,), dtype = <span class="built_in">int</span>) </span><br><span class="line"><span class="built_in">print</span>(y)</span><br><span class="line"><span class="comment"># 自定义类型</span></span><br><span class="line">z = np.zeros((<span class="number">2</span>,<span class="number">2</span>), dtype = [(<span class="string">&#x27;x&#x27;</span>,<span class="string">&#x27;i4&#x27;</span>), (<span class="string">&#x27;y&#x27;</span>,<span class="string">&#x27;i4&#x27;</span>)])  </span><br><span class="line"><span class="built_in">print</span>(z)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line">[<span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>]</span><br><span class="line">[[(<span class="number">0</span>, <span class="number">0</span>) (<span class="number">0</span>, <span class="number">0</span>)]</span><br><span class="line"> [(<span class="number">0</span>, <span class="number">0</span>) (<span class="number">0</span>, <span class="number">0</span>)]]</span><br></pre></td></tr></table></figure>

<p>（3）<code>numpy.ones()</code>创建指定形状的数组，数组元素以1来填充：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numpy.ones(shape, dtype = <span class="literal">None</span>, order = <span class="string">&#x27;C&#x27;</span>)</span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line">shape	数组形状</span><br><span class="line">dtype	数据类型，可选</span><br><span class="line">order	<span class="string">&#x27;C&#x27;</span> 用于C的行数组，或者<span class="string">&#x27;F&#x27;</span>用于 FORTRAN 的列数组</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例子</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 默认为浮点数</span></span><br><span class="line">x = np.ones(<span class="number">5</span>) </span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"><span class="comment"># 自定义类型</span></span><br><span class="line">x = np.ones([<span class="number">2</span>,<span class="number">2</span>], dtype = <span class="built_in">int</span>)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span>]</span><br><span class="line">[[<span class="number">1</span> <span class="number">1</span>]</span><br><span class="line"> [<span class="number">1</span> <span class="number">1</span>]]</span><br></pre></td></tr></table></figure>

<p>（4）<code>numpy.full()</code>创建指定形状的数组，数组元素以<code>fill_value</code>来填充：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numpy.full(shape, fill_value, dtype=<span class="literal">None</span>, order=<span class="string">&#x27;C&#x27;</span>)</span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line">shape	数组形状</span><br><span class="line">fill_value	填充值（标量或类似数组）</span><br><span class="line">dtype	数据类型，可选</span><br><span class="line">order	<span class="string">&#x27;C&#x27;</span> 用于C的行数组，或者<span class="string">&#x27;F&#x27;</span>用于 FORTRAN 的列数组</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例子</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.full((<span class="number">2</span>,<span class="number">2</span>),np.pi)</span><br><span class="line">b = np.full((<span class="number">2</span>,<span class="number">2</span>),<span class="number">1</span>)</span><br><span class="line">c = np.full((<span class="number">2</span>,<span class="number">2</span>),[<span class="number">1</span>,<span class="number">2</span>])</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[<span class="number">3.14159265</span> <span class="number">3.14159265</span>]</span><br><span class="line"> [<span class="number">3.14159265</span> <span class="number">3.14159265</span>]]</span><br><span class="line">[[<span class="number">1</span> <span class="number">1</span>]</span><br><span class="line"> [<span class="number">1</span> <span class="number">1</span>]]</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">1</span> <span class="number">2</span>]]</span><br></pre></td></tr></table></figure>

<p>（5）<code>numpy.random.*</code></p>
<p>在<code>Python</code>中，有两个模块可以产生随机数：</p>
<ul>
<li>python自带<code>random</code>包： 提供一些基本的随机数产生函数，可满足基本需要；</li>
<li><code>numpy.random</code>：提供一些产生随机数的高级函数，满足高级需求。</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> random</span><br><span class="line"><span class="comment"># 例子1 Numpy创建标准正态分布数组</span></span><br><span class="line"><span class="comment"># 创建randn(size)服从X~N(0,1)的正态分布随机数组</span></span><br><span class="line">a = random.randn(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[-<span class="number">0.75827863</span> -<span class="number">0.0696867</span>  -<span class="number">2.23015832</span>]</span><br><span class="line"> [-<span class="number">0.57744225</span> -<span class="number">0.20939873</span> -<span class="number">1.2368758</span> ]]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例子2 Numpy创建随机分布整数型数组</span></span><br><span class="line"><span class="comment"># 利用randint([low,high],size)创建一个整数型指定范围在[low.high]之间的数组</span></span><br><span class="line">b=random.randint(<span class="number">100</span>,<span class="number">300</span>,(<span class="number">4</span>,<span class="number">4</span>))</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[<span class="number">130</span> <span class="number">136</span> <span class="number">156</span> <span class="number">208</span>]</span><br><span class="line"> [<span class="number">221</span> <span class="number">241</span> <span class="number">124</span> <span class="number">244</span>]</span><br><span class="line"> [<span class="number">203</span> <span class="number">266</span> <span class="number">160</span> <span class="number">222</span>]</span><br><span class="line"> [<span class="number">142</span> <span class="number">183</span> <span class="number">203</span> <span class="number">215</span>]]</span><br></pre></td></tr></table></figure>

<p>（6）<code>numpy.eye()</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 创建对角矩阵数组</span></span><br><span class="line">a = np.eye(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[<span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span>]]</span><br></pre></td></tr></table></figure>

<h4 id="👁NumPy从已有的数组创建数组"><a href="#👁NumPy从已有的数组创建数组" class="headerlink" title="👁NumPy从已有的数组创建数组"></a>👁<code>NumPy</code>从已有的数组创建数组</h4><ul>
<li><code>numpy.asarray()</code></li>
<li><code>numpy.frombuffer()</code></li>
<li><code>numpy.fromiter()</code></li>
</ul>
<p>（1）<code>numpy.asarray()</code></p>
<p><code>numpy.asarray()</code>类似<code>numpy.array()</code>，但<code>numpy.asarray()</code>参数只有三个。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numpy.asarray(a, dtype = <span class="literal">None</span>, order = <span class="literal">None</span>)</span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line">a	任意形式的输入参数，可以是：列表、列表的元组、元组、元组的元组、元组的列表、多维数组</span><br><span class="line">dtype	数据类型，可选</span><br><span class="line">order	可选，有<span class="string">&quot;C&quot;</span>和<span class="string">&quot;F&quot;</span>两个选项,分别代表，行优先和列优先，在计算机内存中的存储元素的顺序。</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 将列表转换为ndarray</span></span><br><span class="line">x = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">a1 = np.asarray(x)  </span><br><span class="line">a2 = np.asarray(x, dtype = <span class="built_in">float</span>)  </span><br><span class="line"><span class="built_in">print</span>(a1)</span><br><span class="line"><span class="built_in">print</span>(a2)</span><br><span class="line"><span class="comment"># 将元组转换为ndarray</span></span><br><span class="line">y = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>) </span><br><span class="line">b = np.asarray(y)  </span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># 将元组列表转换为ndarray</span></span><br><span class="line">z = [(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>),(<span class="number">4</span>,<span class="number">5</span>)] </span><br><span class="line">c = np.asarray(z)  </span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line">[<span class="number">1.</span> <span class="number">2.</span> <span class="number">3.</span>]</span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line">[(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) (<span class="number">4</span>, <span class="number">5</span>)]</span><br></pre></td></tr></table></figure>

<p>（2）<code>numpy.frombuffer()</code></p>
<p><code>numpy.frombuffer()</code>用于实现动态数组。</p>
<p><code>numpy.frombuffer()</code>接受buffer输入参数，以流的形式读入转化成ndarray对象。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numpy.frombuffer(buffer, dtype = <span class="built_in">float</span>, count = -<span class="number">1</span>, offset = <span class="number">0</span>)</span><br><span class="line"><span class="comment"># 注意：buffer是字符串的时候，Python3默认str是Unicode类型，所以要转成bytestring在原str前加上b。</span></span><br><span class="line">buffer	可以是任意对象，会以流的形式读入。</span><br><span class="line">dtype	返回数组的数据类型，可选</span><br><span class="line">count	读取的数据数量，默认为-<span class="number">1</span>，读取所有数据。</span><br><span class="line">offset	读取的起始位置，默认为<span class="number">0</span>。</span><br><span class="line"></span><br><span class="line"><span class="comment"># Python3例子</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"><span class="built_in">str</span> = <span class="string">b&#x27;Hello World9527&#x27;</span> </span><br><span class="line">a = np.frombuffer(<span class="built_in">str</span>, dtype = <span class="string">&#x27;S1&#x27;</span>)  </span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="string">b&#x27;H&#x27;</span> <span class="string">b&#x27;e&#x27;</span> <span class="string">b&#x27;l&#x27;</span> <span class="string">b&#x27;l&#x27;</span> <span class="string">b&#x27;o&#x27;</span> <span class="string">b&#x27; &#x27;</span> <span class="string">b&#x27;W&#x27;</span> <span class="string">b&#x27;o&#x27;</span> <span class="string">b&#x27;r&#x27;</span> <span class="string">b&#x27;l&#x27;</span> <span class="string">b&#x27;d&#x27;</span> <span class="string">b&#x27;9&#x27;</span> <span class="string">b&#x27;5&#x27;</span> <span class="string">b&#x27;2&#x27;</span> <span class="string">b&#x27;7&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p>（3）<code>numpy.fromiter()</code></p>
<p><code>numpy.fromiter()</code>方法从可迭代对象中建立ndarray对象，返回一维数组。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numpy.fromiter(iterable, dtype, count=-<span class="number">1</span>)</span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line">iterable	可迭代对象</span><br><span class="line">dtype	返回数组的数据类型</span><br><span class="line">count	读取的数据数量，默认为-<span class="number">1</span>，读取所有数据</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"><span class="comment"># 使用range函数创建列表对象  </span></span><br><span class="line"><span class="built_in">list</span>=<span class="built_in">range</span>(<span class="number">5</span>)</span><br><span class="line">it=<span class="built_in">iter</span>(<span class="built_in">list</span>)</span><br><span class="line"><span class="built_in">print</span>(it)</span><br><span class="line"><span class="comment"># 使用迭代器创建 ndarray </span></span><br><span class="line">x=np.fromiter(it, dtype = <span class="built_in">float</span>)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">&lt;range_iterator <span class="built_in">object</span> at <span class="number">0x0000023512CA7E70</span>&gt;</span><br><span class="line">[<span class="number">0.</span> <span class="number">1.</span> <span class="number">2.</span> <span class="number">3.</span> <span class="number">4.</span>]</span><br></pre></td></tr></table></figure>

<h4 id="👁NumPy从数值范围创建数组"><a href="#👁NumPy从数值范围创建数组" class="headerlink" title="👁NumPy从数值范围创建数组"></a>👁<code>NumPy</code>从数值范围创建数组</h4><ul>
<li><code>numpy.arange()</code></li>
<li><code>numpy.linspace()</code></li>
<li><code>numpy.logspace()</code></li>
</ul>
<p>（1）<code>numpy.arange()</code></p>
<p><code>numpy</code>包中的使用<code>arange</code>函数创建数值范围并返回ndarray对象，函数格式如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numpy.arange(start, stop, step, dtype)</span><br><span class="line"><span class="comment"># 根据start与stop指定的范围以及step设定的步长，生成一个ndarray</span></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line">start	起始值，默认为<span class="number">0</span></span><br><span class="line">stop	终止值（不包含）</span><br><span class="line">step	步长，默认为<span class="number">1</span></span><br><span class="line">dtype	返回ndarray的数据类型，如果没有提供，则会使用输入数据的类型。</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a1 = np.arange(<span class="number">10</span>)</span><br><span class="line">a2 = np.arange(<span class="number">10</span>, dtype = <span class="built_in">float</span>)</span><br><span class="line">b = np.arange(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">c = np.arange(<span class="number">10</span>, <span class="number">20</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(a1)</span><br><span class="line"><span class="built_in">print</span>(a2)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span>]</span><br><span class="line">[<span class="number">0.</span> <span class="number">1.</span> <span class="number">2.</span> <span class="number">3.</span> <span class="number">4.</span> <span class="number">5.</span> <span class="number">6.</span> <span class="number">7.</span> <span class="number">8.</span> <span class="number">9.</span>]</span><br><span class="line">[<span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span>]</span><br><span class="line">[<span class="number">10</span> <span class="number">12</span> <span class="number">14</span> <span class="number">16</span> <span class="number">18</span>]</span><br></pre></td></tr></table></figure>

<p>（2）<code>numpy.linspace()</code></p>
<p><code>numpy.linspace</code>函数用于创建一个一维数组，数组是一个等差数列构成的，格式如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.linspace(start, stop, num=<span class="number">50</span>, endpoint=<span class="literal">True</span>, retstep=<span class="literal">False</span>, dtype=<span class="literal">None</span>)</span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line">start	序列的起始值</span><br><span class="line">stop	序列的终止值，如果endpoint为true，该值包含于数列中</span><br><span class="line">num		要生成的等步长的样本数量，默认为<span class="number">50</span></span><br><span class="line">endpoint	该值为true时，数列中包含stop值，反之不包含，默认是<span class="literal">True</span>。</span><br><span class="line">retstep		如果为<span class="literal">True</span>时，生成的数组中会显示间距，反之不显示。</span><br><span class="line">dtype		ndarray的数据类型</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例子1</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.linspace(<span class="number">1</span>,<span class="number">10</span>,<span class="number">10</span>)</span><br><span class="line">b = np.linspace(<span class="number">1</span>,<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line">c = np.linspace(<span class="number">10</span>, <span class="number">20</span>, <span class="number">5</span>, endpoint = <span class="literal">False</span>) </span><br><span class="line">d = np.linspace(<span class="number">10</span>, <span class="number">20</span>, <span class="number">5</span>)  </span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="number">1.</span> <span class="number">2.</span> <span class="number">3.</span> <span class="number">4.</span> <span class="number">5.</span> <span class="number">6.</span> <span class="number">7.</span> <span class="number">8.</span> <span class="number">9.</span> <span class="number">10.</span>]</span><br><span class="line">[<span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span>]</span><br><span class="line">[<span class="number">10.</span> <span class="number">12.</span> <span class="number">14.</span> <span class="number">16.</span> <span class="number">18.</span>]</span><br><span class="line">[<span class="number">10.</span> <span class="number">12.5</span> <span class="number">15.</span> <span class="number">17.5</span> <span class="number">20.</span> ]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例子2</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">e1 = np.linspace(<span class="number">1</span>,<span class="number">10</span>,<span class="number">10</span>,retstep= <span class="literal">True</span>)</span><br><span class="line">e2 = np.linspace(<span class="number">1</span>,<span class="number">10</span>,<span class="number">5</span>,retstep= <span class="literal">True</span>) </span><br><span class="line"><span class="built_in">print</span>(e1)</span><br><span class="line"><span class="built_in">print</span>(e2)</span><br><span class="line"><span class="comment"># 拓展例子</span></span><br><span class="line">f = np.linspace(<span class="number">1</span>,<span class="number">10</span>,<span class="number">10</span>).reshape([<span class="number">10</span>,<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(f)</span><br><span class="line"><span class="comment">#输出结果</span></span><br><span class="line">(array([ <span class="number">1.</span>,  <span class="number">2.</span>,  <span class="number">3.</span>,  <span class="number">4.</span>,  <span class="number">5.</span>,  <span class="number">6.</span>,  <span class="number">7.</span>,  <span class="number">8.</span>,  <span class="number">9.</span>, <span class="number">10.</span>]), <span class="number">1.0</span>)</span><br><span class="line">(array([ <span class="number">1.</span>,  <span class="number">3.25</span>,  <span class="number">5.5</span>,  <span class="number">7.75</span>, <span class="number">10.</span>]), <span class="number">2.25</span>)</span><br><span class="line">[[ <span class="number">1.</span>]</span><br><span class="line"> [ <span class="number">2.</span>]</span><br><span class="line"> [ <span class="number">3.</span>]</span><br><span class="line"> [ <span class="number">4.</span>]</span><br><span class="line"> [ <span class="number">5.</span>]</span><br><span class="line"> [ <span class="number">6.</span>]</span><br><span class="line"> [ <span class="number">7.</span>]</span><br><span class="line"> [ <span class="number">8.</span>]</span><br><span class="line"> [ <span class="number">9.</span>]</span><br><span class="line"> [<span class="number">10.</span>]]</span><br></pre></td></tr></table></figure>

<p>（3）<code>numpy.logspace()</code></p>
<p><code>numpy.logspace</code>函数用于创建一个于等比数列。格式如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.logspace(start, stop, num=<span class="number">50</span>, endpoint=<span class="literal">True</span>, base=<span class="number">10.0</span>, dtype=<span class="literal">None</span>)</span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line">start	序列的起始值为：base ** start</span><br><span class="line">stop	序列的终止值为：base ** stop。如果endpoint为true，该值包含于数列中</span><br><span class="line">num		要生成的等步长的样本数量，默认为<span class="number">50</span></span><br><span class="line">endpoint	该值为 true 时，数列中中包含stop值，反之不包含，默认是<span class="literal">True</span>。</span><br><span class="line">base	对数 log 的底数。</span><br><span class="line">dtype	ndarray 的数据类型</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 默认底数是10</span></span><br><span class="line">a = np.logspace(<span class="number">1.0</span>, <span class="number">2.0</span>, num = <span class="number">10</span>)</span><br><span class="line"><span class="comment"># 将对数的底数设置为 2 </span></span><br><span class="line">b = np.logspace(<span class="number">0</span>, <span class="number">9</span>, <span class="number">10</span>,base = <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[ <span class="number">10.</span>          <span class="number">12.91549665</span>  <span class="number">16.68100537</span>  <span class="number">21.5443469</span>   <span class="number">27.82559402</span></span><br><span class="line">  <span class="number">35.93813664</span>  <span class="number">46.41588834</span>  <span class="number">59.94842503</span>  <span class="number">77.42636827</span> <span class="number">100.</span>        ]</span><br><span class="line">[  <span class="number">1.</span>   <span class="number">2.</span>   <span class="number">4.</span>   <span class="number">8.</span>  <span class="number">16.</span>  <span class="number">32.</span>  <span class="number">64.</span> <span class="number">128.</span> <span class="number">256.</span> <span class="number">512.</span>]</span><br></pre></td></tr></table></figure>

<h4 id="👁结构数组"><a href="#👁结构数组" class="headerlink" title="👁结构数组"></a>👁结构数组</h4><p>C语言中可以通过struct关键字定义结构类型。NumPy中也有类似的结构数组。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 例子1</span></span><br><span class="line">student = np.dtype([(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;S20&#x27;</span>), (<span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;i1&#x27;</span>), (<span class="string">&#x27;marks&#x27;</span>, <span class="string">&#x27;f4&#x27;</span>)]) </span><br><span class="line">a = np.array([(<span class="string">&#x27;abc&#x27;</span>, <span class="number">21</span>, <span class="number">50</span>),(<span class="string">&#x27;xyz&#x27;</span>, <span class="number">18</span>, <span class="number">75</span>)], dtype = student) </span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[(<span class="string">b&#x27;abc&#x27;</span>, <span class="number">21</span>, <span class="number">50.</span>) (<span class="string">b&#x27;xyz&#x27;</span>, <span class="number">18</span>, <span class="number">75.</span>)]</span><br><span class="line">(<span class="string">b&#x27;abc&#x27;</span>, <span class="number">21</span>, <span class="number">50.</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例子2</span></span><br><span class="line">persontype = np.dtype(&#123;</span><br><span class="line">    <span class="string">&#x27;names&#x27;</span>:[<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;age&#x27;</span>,<span class="string">&#x27;weight&#x27;</span>],</span><br><span class="line">    <span class="string">&#x27;formats&#x27;</span>:[<span class="string">&#x27;S30&#x27;</span>,<span class="string">&#x27;i&#x27;</span>,<span class="string">&#x27;f&#x27;</span>]&#125;)</span><br><span class="line">b = np.array([(<span class="string">&#x27;Zhang&#x27;</span>,<span class="number">32</span>,<span class="number">75.5</span>),(<span class="string">&#x27;Wang&#x27;</span>,<span class="number">24</span>,<span class="number">65.2</span>)],dtype = persontype)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(b[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[(<span class="string">b&#x27;Zhang&#x27;</span>, <span class="number">32</span>, <span class="number">75.5</span>) (<span class="string">b&#x27;Wang&#x27;</span>, <span class="number">24</span>, <span class="number">65.2</span>)]</span><br><span class="line">(<span class="string">b&#x27;Zhang&#x27;</span>, <span class="number">32</span>, <span class="number">75.5</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Python打印字符串，前面出现<code>b</code>:</p>
<ul>
<li>b: bytes </li>
<li>python3.x里默认的str是(py2.x里的)unicode, bytes是(py2.x)的str, b”“前缀代表的就是bytes ;</li>
<li>python2.x里, b前缀没什么具体意义， 只是为了兼容python3.x的这种写法.</li>
</ul>
</blockquote>
<h3 id="👀NumPy数据类型对象-dtype"><a href="#👀NumPy数据类型对象-dtype" class="headerlink" title="👀NumPy数据类型对象(dtype)"></a>👀NumPy数据类型对象(dtype)</h3><p><code>NumPy</code>支持的数据类型比<code>Python</code>内置的类型要多很多，基本上可以和<code>C</code>语言的数据类型对应上，其中部分类型对应为<code>Python</code>内置的类型。</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>bool_</code></td>
<td>布尔型数据类型（True 或者 False）</td>
</tr>
<tr>
<td><code>int8</code></td>
<td>字节（-128 to 127）</td>
</tr>
<tr>
<td><code>int16</code></td>
<td>整数（-32768 to 32767）</td>
</tr>
<tr>
<td><code>int32</code></td>
<td>整数（-2147483648 to 2147483647）</td>
</tr>
<tr>
<td><code>int64</code></td>
<td>整数（-9223372036854775808 to 9223372036854775807）</td>
</tr>
<tr>
<td><code>uint8</code></td>
<td>无符号整数（0 to 255）</td>
</tr>
<tr>
<td><code>uint16</code></td>
<td>无符号整数（0 to 65535）</td>
</tr>
<tr>
<td><code>uint32</code></td>
<td>无符号整数（0 to 4294967295）</td>
</tr>
<tr>
<td><code>uint64</code></td>
<td>无符号整数（0 to 18446744073709551615）</td>
</tr>
<tr>
<td><code>float_</code></td>
<td>float64 类型的简写</td>
</tr>
<tr>
<td><code>float16</code></td>
<td>半精度浮点数，包括：1 个符号位，5 个指数位，10 个尾数位</td>
</tr>
<tr>
<td><code>float32</code></td>
<td>单精度浮点数，包括：1 个符号位，8 个指数位，23 个尾数位</td>
</tr>
<tr>
<td><code>float64</code></td>
<td>双精度浮点数，包括：1 个符号位，11 个指数位，52 个尾数位</td>
</tr>
</tbody></table>
<p>数据类型对象（<code>numpy.dtype</code>类的实例）用来描述与数组对应的内存区域是如何使用，它描述了数据的以下几个方面：</p>
<ul>
<li>数据的类型（整数，浮点数或者<code>Python</code>对象）</li>
<li>数据的大小（例如， 整数使用多少个字节存储）</li>
<li>数据的字节顺序（小端法或大端法）</li>
<li>在结构化类型的情况下，字段的名称、每个字段的数据类型和每个字段所取的内存块的部分</li>
<li>如果数据类型是子数组，那么它的形状和数据类型是什么。</li>
</ul>
<p>字节顺序是通过对数据类型预先设定 <code>&lt;</code>或 <code>&gt;</code> 来决定的。 <code>&lt;</code>意味着小端法(最小值存储在最小的地址，即低位组放在最前面)。<code>&gt;</code>意味着大端法(最重要的字节存储在最小的地址，即高位组放在最前面)。</p>
<p><code>dtype</code>对象是使用以下语法构造的：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numpy.dtype(<span class="built_in">object</span>, align, copy)</span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="built_in">object</span> - 要转换为的数据类型对象</span><br><span class="line">align - 如果为true，填充字段使其类似C的结构体。</span><br><span class="line">copy - 复制dtype对象，如果为false，则是对内置数据类型对象的引用</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例子1</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 使用标量类型</span></span><br><span class="line">dt1 = np.dtype(np.int32)</span><br><span class="line"><span class="comment"># int8, int16, int32, int64四种数据类型可以使用字符串&#x27;i1&#x27;, &#x27;i2&#x27;,&#x27;i4&#x27;,&#x27;i8&#x27;代替</span></span><br><span class="line">dt2 = np.dtype(<span class="string">&#x27;i4&#x27;</span>)</span><br><span class="line"><span class="comment"># 字节顺序标注</span></span><br><span class="line">dt3 = np.dtype(<span class="string">&#x27;&lt;i4&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(dt1)</span><br><span class="line"><span class="built_in">print</span>(dt2)</span><br><span class="line"><span class="built_in">print</span>(dt4)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">int32</span><br><span class="line">int32</span><br><span class="line">int32</span><br></pre></td></tr></table></figure>

<p>下面实例展示结构化数据类型的使用，类型字段和对应的实际类型将被创建。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 例子1</span></span><br><span class="line"><span class="comment"># 首先创建结构化数据类型</span></span><br><span class="line">dt = np.dtype([(<span class="string">&#x27;age&#x27;</span>,np.int8)]) </span><br><span class="line"><span class="built_in">print</span>(dt)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[(<span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;i1&#x27;</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例子2</span></span><br><span class="line"><span class="comment"># 将数据类型应用于ndarray对象</span></span><br><span class="line">dt = np.dtype([(<span class="string">&#x27;age&#x27;</span>,np.int8)]) </span><br><span class="line">a = np.array([(<span class="number">10</span>,),(<span class="number">20</span>,),(<span class="number">30</span>,)], dtype = dt) </span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[(<span class="number">10</span>,) (<span class="number">20</span>,) (<span class="number">30</span>,)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例子3</span></span><br><span class="line"><span class="comment"># 类型字段名可以用于存取实际的age列</span></span><br><span class="line">dt = np.dtype([(<span class="string">&#x27;age&#x27;</span>,np.int8)]) </span><br><span class="line">a = np.array([(<span class="number">10</span>,),(<span class="number">20</span>,),(<span class="number">30</span>,)], dtype = dt) </span><br><span class="line"><span class="built_in">print</span>(a[<span class="string">&#x27;age&#x27;</span>])</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="number">10</span> <span class="number">20</span> <span class="number">30</span>]</span><br></pre></td></tr></table></figure>

<p>下面的示例定义一个结构化数据类型student，包含字符串字段name，整数字段age，及浮点字段marks，并将这个dtype应用到ndarray对象。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 例子1</span></span><br><span class="line">student = np.dtype([(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;S20&#x27;</span>), (<span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;i1&#x27;</span>), (<span class="string">&#x27;marks&#x27;</span>, <span class="string">&#x27;f4&#x27;</span>)]) </span><br><span class="line"><span class="built_in">print</span>(student)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;S20&#x27;</span>), (<span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;i1&#x27;</span>), (<span class="string">&#x27;marks&#x27;</span>, <span class="string">&#x27;f4&#x27;</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例子2</span></span><br><span class="line">a = np.array([(<span class="string">&#x27;abc&#x27;</span>, <span class="number">21</span>, <span class="number">50</span>),(<span class="string">&#x27;xyz&#x27;</span>, <span class="number">18</span>, <span class="number">75</span>)], dtype = student) </span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[(<span class="string">b&#x27;abc&#x27;</span>, <span class="number">21</span>, <span class="number">50.</span>) (<span class="string">b&#x27;xyz&#x27;</span>, <span class="number">18</span>, <span class="number">75.</span>)]</span><br><span class="line">(<span class="string">b&#x27;abc&#x27;</span>, <span class="number">21</span>, <span class="number">50.</span>)</span><br></pre></td></tr></table></figure>

<p>每个内建类型都有一个唯一定义它的字符代码，如下：</p>
<table>
<thead>
<tr>
<th>字符</th>
<th>对应类型</th>
</tr>
</thead>
<tbody><tr>
<td>b</td>
<td>布尔型</td>
</tr>
<tr>
<td>i</td>
<td>(有符号) 整型</td>
</tr>
<tr>
<td>u</td>
<td>无符号整型 integer</td>
</tr>
<tr>
<td>f</td>
<td>浮点型</td>
</tr>
<tr>
<td>c</td>
<td>复数浮点型</td>
</tr>
<tr>
<td>m</td>
<td>timedelta（时间间隔）</td>
</tr>
<tr>
<td>M</td>
<td>datetime（日期时间）</td>
</tr>
<tr>
<td>O</td>
<td>(Python) 对象</td>
</tr>
<tr>
<td>S,a</td>
<td>(byte-)字符串</td>
</tr>
<tr>
<td>U</td>
<td>Unicode</td>
</tr>
<tr>
<td>V</td>
<td>原始数据 (void)</td>
</tr>
</tbody></table>
<h3 id="👀NumPy数组属性"><a href="#👀NumPy数组属性" class="headerlink" title="👀NumPy数组属性"></a>👀NumPy数组属性</h3><p><code>NumPy</code>数组的维数称为秩（rank），秩就是轴的数量，即数组的维度，一维数组的秩为 1，二维数组的秩为 2，以此类推。在<code>NumPy</code>中，每一个线性的数组称为是一个轴（<code>axis</code>），也就是维度（<code>dimensions</code>）。比如说，二维数组相当于是两个一维数组，其中第一个一维数组中每个元素又是一个一维数组。所以一维数组就是<code>NumPy</code>中的轴（<code>axis</code>），第一个轴相当于是底层数组，第二个轴是底层数组里的数组。而轴的数量——秩，就是数组的维数。</p>
<p>很多时候可以声明<code>axis</code>。axis&#x3D;0，表示沿着第0轴进行操作，即对每一列进行操作；axis&#x3D;1，表示沿着第1轴进行操作，即对每一行进行操作。<code>NumPy</code>的数组中比较重要<code>ndarray</code>对象属性有：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>ndarray.ndim</code></td>
<td>秩，即轴的数量或维度的数量</td>
</tr>
<tr>
<td><code>ndarray.shape</code></td>
<td>数组的维度，对于矩阵，n行m列</td>
</tr>
<tr>
<td><code>ndarray.size</code></td>
<td>数组元素的总个数，相当于 .shape中n*m的值</td>
</tr>
<tr>
<td><code>ndarray.dtype</code></td>
<td>ndarray对象的元素类型</td>
</tr>
<tr>
<td><code>ndarray.itemsize</code></td>
<td>ndarray对象中每个元素的大小，以字节为单位</td>
</tr>
<tr>
<td><code>ndarray.flags</code></td>
<td>ndarray对象的内存信息</td>
</tr>
<tr>
<td><code>ndarray.real</code></td>
<td>ndarray元素的实部</td>
</tr>
<tr>
<td><code>ndarray.imag</code></td>
<td>ndarray元素的虚部</td>
</tr>
<tr>
<td><code>ndarray.data</code></td>
<td>包含实际数组元素的缓冲区，由于一般通过数组的索引获取元素，所以通常不需要使用这个属性</td>
</tr>
</tbody></table>
<p><code>ndarray.ndim</code>用于返回数组的维数，等于秩。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"><span class="comment"># ndarray.ndim用于返回数组的维数，等于秩。</span></span><br><span class="line">a = np.arange(<span class="number">24</span>)  </span><br><span class="line"><span class="built_in">print</span>(a.ndim)             <span class="comment"># a 现只有一个维度</span></span><br><span class="line"><span class="comment"># 现在调整其大小</span></span><br><span class="line">b = a.reshape(<span class="number">2</span>,<span class="number">4</span>,<span class="number">3</span>)       <span class="comment"># b 现在拥有三个维度</span></span><br><span class="line"><span class="built_in">print</span>(b.ndim)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><code>ndarray.shape</code>表示数组的维度，返回一个元组，这个元组的长度就是维度的数目，即<code>ndim</code>属性(秩)。比如，一个二维数组，其维度表示”行数”和”列数”。</p>
<p><code>ndarray.shape</code>也可以用于调整数组大小。<code>NumPy</code>也提供了<code>reshape()</code>函数来调整数组大小。</p>
<p><code>ndarray.size</code>数组元素的总个数，相当于 <code>.shape</code>中n*m的值。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 例子1</span></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])  </span><br><span class="line"><span class="built_in">print</span>(a.shape)</span><br><span class="line">b = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]]) </span><br><span class="line">b.shape = (<span class="number">3</span>,<span class="number">2</span>)  </span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span>]</span><br><span class="line"> [<span class="number">5</span> <span class="number">6</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例子2</span></span><br><span class="line">c = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]]) </span><br><span class="line">d = c.reshape(<span class="number">3</span>,<span class="number">2</span>)  </span><br><span class="line">e = np.size(c)</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span>]</span><br><span class="line"> [<span class="number">5</span> <span class="number">6</span>]]</span><br><span class="line"><span class="number">6</span></span><br></pre></td></tr></table></figure>

<p><code>ndarray.itemsize</code>以字节的形式返回数组中每一个元素的大小。</p>
<p>例如，一个元素类型为<code>float64</code>的数组<code>itemsize</code>属性值为 8(<code>float64</code>占用64个bits（位），每个字节（Byte）长度为8，所以64&#x2F;8，占用8个字节），又如，一个元素类型为<code>complex32</code>的数组item属性为4（32&#x2F;8）。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="comment"># 数组的dtype为int8（一个字节）  </span></span><br><span class="line">x = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>], dtype = np.int8)  </span><br><span class="line"><span class="built_in">print</span>(x.itemsize)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 数组的dtype现在为float64（八个字节） </span></span><br><span class="line">y = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>], dtype = np.float64)  </span><br><span class="line"><span class="built_in">print</span>(y.itemsize)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">8</span></span><br></pre></td></tr></table></figure>

<p><code>ndarray.flags</code>返回ndarray对象的内存信息，包含以下属性：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>C_CONTIGUOUS (C)</code></td>
<td>数据是在一个单一的<code>C</code>风格的连续段中</td>
</tr>
<tr>
<td><code>F_CONTIGUOUS (F)</code></td>
<td>数据是在一个单一的<code>Fortran</code>风格的连续段中</td>
</tr>
<tr>
<td><code>OWNDATA (O)</code></td>
<td>数组拥有它所使用的内存或从另一个对象中借用它</td>
</tr>
<tr>
<td><code>WRITEABLE (W)</code></td>
<td>数据区域可以被写入，将该值设置为<code>False</code>，则数据为只读</td>
</tr>
<tr>
<td><code>ALIGNED (A)</code></td>
<td>数据和所有元素都适当地对齐到硬件上</td>
</tr>
<tr>
<td><code>UPDATEIFCOPY (U)</code></td>
<td>这个数组是其它数组的一个副本，当这个数组被释放时，原数组的内容将被更新</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">x = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])  </span><br><span class="line"><span class="built_in">print</span>(x.flags)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">C_CONTIGUOUS : <span class="literal">True</span></span><br><span class="line">F_CONTIGUOUS : <span class="literal">True</span></span><br><span class="line">OWNDATA : <span class="literal">True</span></span><br><span class="line">WRITEABLE : <span class="literal">True</span></span><br><span class="line">ALIGNED : <span class="literal">True</span></span><br><span class="line">WRITEBACKIFCOPY : <span class="literal">False</span></span><br><span class="line">UPDATEIFCOPY : <span class="literal">False</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>ndarray.reshape()</code>通常返回的是非拷贝副本，即改变返回后数组的元素，原数组对应元素的值也会改变。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">b = a.reshape((<span class="number">6</span>,))</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;*&quot;</span>*<span class="number">20</span>)</span><br><span class="line">b[<span class="number">0</span>] = <span class="number">168</span></span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]]</span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]</span><br><span class="line">********************</span><br><span class="line">[<span class="number">168</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>]</span><br><span class="line">[[<span class="number">168</span>   <span class="number">2</span>   <span class="number">3</span>]</span><br><span class="line"> [  <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>]]</span><br></pre></td></tr></table></figure>

<h3 id="👀NumPy切片和索引"><a href="#👀NumPy切片和索引" class="headerlink" title="👀NumPy切片和索引"></a>👀NumPy切片和索引</h3><p>（1）整数和切片索引</p>
<p><code>ndarray</code>对象的内容可以通过索引或切片来访问和修改，与<code>Python</code>中<code>list</code>的切片操作一样。</p>
<p><code>ndarray</code>数组可以基于<code>0-n</code>的下标进行索引，切片对象可以通过内置的<code>slice</code>函数，并设置start, stop及step参数进行，从原数组中切割出一个新数组。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.arange(<span class="number">10</span>)</span><br><span class="line"><span class="comment"># 内置的slice函数</span></span><br><span class="line"><span class="comment"># 从索引2开始到索引7停止，间隔为2</span></span><br><span class="line">s = <span class="built_in">slice</span>(<span class="number">2</span>,<span class="number">7</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(a[s])</span><br><span class="line"><span class="comment"># 从索引2开始到索引7停止，间隔为2</span></span><br><span class="line">b = a[<span class="number">2</span>:<span class="number">7</span>:<span class="number">2</span>]</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="number">2</span> <span class="number">4</span> <span class="number">6</span>]</span><br><span class="line">[<span class="number">2</span> <span class="number">4</span> <span class="number">6</span>]</span><br></pre></td></tr></table></figure>

<p>冒号<code>:</code>的解释：如果只放置一个参数，如<code>[2]</code>，将返回与该索引相对应的单个元素。如果为<code>[2:]</code>，表示从该索引开始以后的所有项都将被提取。如果使用了两个参数，如<code>[2:7]</code>，那么则提取两个索引(不包括停止索引)之间的项。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.arange(<span class="number">10</span>)  <span class="comment"># [0 1 2 3 4 5 6 7 8 9]</span></span><br><span class="line">b = a[<span class="number">5</span>]</span><br><span class="line">c = a[<span class="number">2</span>:]</span><br><span class="line">d = a[<span class="number">2</span>:<span class="number">5</span>]</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span>]</span><br><span class="line"><span class="number">5</span></span><br><span class="line">[<span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span>]</span><br><span class="line">[<span class="number">2</span> <span class="number">3</span> <span class="number">4</span>]</span><br></pre></td></tr></table></figure>

<p>多维数组同样适用上述索引提取方法。</p>
<p>切片还可以包括省略号<code>…</code>，来使选择元组的长度与数组的维度相同。 如果在行位置使用省略号，它将返回包含行中元素的ndarray。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment"># 从某个索引处开始切割</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">1</span>:])</span><br><span class="line"><span class="built_in">print</span>(a[...,<span class="number">1</span>])   <span class="comment"># 第2列元素</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">1</span>,...])   <span class="comment"># 第2行元素</span></span><br><span class="line"><span class="built_in">print</span>(a[...,<span class="number">1</span>:])  <span class="comment"># 第2列及剩下的所有元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]]</span><br><span class="line">[[<span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]]</span><br><span class="line">[<span class="number">2</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line">[<span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line">[[<span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span>]</span><br><span class="line"> [<span class="number">5</span> <span class="number">6</span>]]</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>np.s_[:]</code>的用法，可以参考Python中内置的 <code>slice</code> 函数，并设置start, stop及step参数。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Out[<span class="number">23</span>]:np.s_[:]</span><br><span class="line">Out[<span class="number">23</span>]:<span class="built_in">slice</span>(<span class="literal">None</span>, <span class="literal">None</span>, <span class="literal">None</span>)</span><br></pre></td></tr></table></figure>
</blockquote>
<p>（2）高级索引</p>
<ul>
<li>整数数组索引</li>
<li>布尔索引</li>
<li>花式索引</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 整数数组索引</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"><span class="comment"># 获取数组中(0,0)，(1,1)和(2,0)位置处的元素。</span></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>], [<span class="number">3</span>,<span class="number">4</span>], [<span class="number">5</span>,<span class="number">6</span>]]) </span><br><span class="line">b = a[[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>]]  </span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="number">1</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#**********************************</span></span><br><span class="line">c = np.array([[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>],[<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>]])  </span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line">rows = np.array([[<span class="number">0</span>,<span class="number">0</span>],[<span class="number">3</span>,<span class="number">3</span>]])</span><br><span class="line">cols = np.array([[<span class="number">0</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">2</span>]])</span><br><span class="line">d = c[rows,cols]</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>]</span><br><span class="line"> [ <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>]</span><br><span class="line"> [ <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>]</span><br><span class="line"> [ <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">2</span>]</span><br><span class="line"> [ <span class="number">9</span> <span class="number">11</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment">#**********************************</span></span><br><span class="line"><span class="comment"># 借助切片:或…与索引数组组合。如下面例子：</span></span><br><span class="line">e = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]])</span><br><span class="line">f = e[<span class="number">1</span>:<span class="number">3</span>,<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">g = e[<span class="number">1</span>:<span class="number">3</span>,[<span class="number">1</span>,<span class="number">2</span>]]</span><br><span class="line">h = e[...,<span class="number">1</span>:]</span><br><span class="line"><span class="built_in">print</span>(e)</span><br><span class="line"><span class="built_in">print</span>(f)</span><br><span class="line"><span class="built_in">print</span>(g)</span><br><span class="line"><span class="built_in">print</span>(h)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"> [<span class="number">7</span> <span class="number">8</span> <span class="number">9</span>]]</span><br><span class="line">[[<span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"> [<span class="number">8</span> <span class="number">9</span>]]</span><br><span class="line">[[<span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"> [<span class="number">8</span> <span class="number">9</span>]]</span><br><span class="line">[[<span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"> [<span class="number">8</span> <span class="number">9</span>]]</span><br></pre></td></tr></table></figure>

<p><strong>布尔索引</strong>通过布尔运算（如：比较运算符）来获取符合指定条件的元素的数组。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"></span><br><span class="line">x = np.array([[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>],[<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>]])  </span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"><span class="comment"># 现在我们会打印出大于5的元素  </span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;大于5的元素是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(x[x&gt;<span class="number">5</span>])</span><br><span class="line"><span class="comment">#输出结果</span></span><br><span class="line">[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>]</span><br><span class="line"> [ <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>]</span><br><span class="line"> [ <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>]</span><br><span class="line"> [ <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]</span><br><span class="line">大于<span class="number">5</span>的元素是：</span><br><span class="line">[ <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#**********************************</span></span><br><span class="line"><span class="comment"># 使用了~（取补运算符）来过滤NaN</span></span><br><span class="line">a = np.array([np.nan,<span class="number">1</span>,<span class="number">2</span>,np.nan,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])  </span><br><span class="line"><span class="built_in">print</span>(a[np.isnan(a)])</span><br><span class="line"><span class="built_in">print</span>(a[~np.isnan(a)])</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="number">1.</span> <span class="number">2.</span> <span class="number">3.</span> <span class="number">4.</span> <span class="number">5.</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#**********************************</span></span><br><span class="line"><span class="comment"># 从数组中过滤掉非复数元素</span></span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>+<span class="number">6j</span>,<span class="number">5</span>,<span class="number">3.5</span>+<span class="number">5j</span>])  </span><br><span class="line"><span class="built_in">print</span>(a[np.iscomplex(a)])</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="number">2.</span>+<span class="number">6.j</span> <span class="number">3.5</span>+<span class="number">5.j</span>]</span><br></pre></td></tr></table></figure>

<p><strong>花式索引</strong>指的是利用整数数组进行索引。花式索引根据索引数组的值作为目标数组的某个轴的下标来取值。</p>
<ul>
<li><p>对于使用一维整型数组作为索引，如果目标是一维数组，那么索引的结果就是对应位置的元素；如果目标是二维数组，那么就是对应下标的行。</p>
</li>
<li><p>花式索引跟切片不一样，它总是将数据复制到新数组中；</p>
</li>
<li><p>传入多个索引数组（要使用<code>np.ix_</code>）。<code>np.ix_</code> 函数就是输入两个数组，产生笛卡尔积的映射关系。</p>
<p>笛卡尔乘积是指在数学中，两个集合 X 和 Y 的<strong>笛卡尔积</strong>（Cartesian product），又称直积，表示为 <strong>X×Y</strong>，第一个对象是X的成员而第二个对象是 Y 的所有可能有序对的其中一个成员。</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 一维数组只有一个轴 axis = 0，所以一维数组就在 axis = 0 这个轴上取值：</span></span><br><span class="line">a = np.arange(<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment"># 一维数组读取指定下标对应的元素</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-------读取下标对应的元素-------&quot;</span>)</span><br><span class="line">b = a[[<span class="number">0</span>,<span class="number">6</span>]] <span class="comment"># 使用花式索引</span></span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(b[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(b[<span class="number">1</span>])</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span>]</span><br><span class="line">-------读取下标对应的元素-------</span><br><span class="line">[<span class="number">1</span> <span class="number">7</span>]</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#**********************************</span></span><br><span class="line"><span class="comment"># 二维数组</span></span><br><span class="line">c = np.arange(<span class="number">32</span>).reshape((<span class="number">8</span>,<span class="number">4</span>))</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"><span class="comment"># 二维数组读取指定下标对应的行,输出下表为4,2,1,7对应的行</span></span><br><span class="line"><span class="built_in">print</span>(c[[<span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">7</span>]])</span><br><span class="line"><span class="comment"># 传入倒序索引数组</span></span><br><span class="line"><span class="built_in">print</span>(c[[-<span class="number">4</span>,-<span class="number">2</span>,-<span class="number">1</span>,-<span class="number">7</span>]])</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line"> [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]</span><br><span class="line"> [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]</span><br><span class="line"> [<span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span>]</span><br><span class="line"> [<span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span>]</span><br><span class="line"> [<span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span>]</span><br><span class="line"> [<span class="number">24</span> <span class="number">25</span> <span class="number">26</span> <span class="number">27</span>]</span><br><span class="line"> [<span class="number">28</span> <span class="number">29</span> <span class="number">30</span> <span class="number">31</span>]]</span><br><span class="line">[[<span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span>]</span><br><span class="line"> [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]</span><br><span class="line"> [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]</span><br><span class="line"> [<span class="number">28</span> <span class="number">29</span> <span class="number">30</span> <span class="number">31</span>]]</span><br><span class="line">[[<span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span>]</span><br><span class="line"> [<span class="number">24</span> <span class="number">25</span> <span class="number">26</span> <span class="number">27</span>]</span><br><span class="line"> [<span class="number">28</span> <span class="number">29</span> <span class="number">30</span> <span class="number">31</span>]</span><br><span class="line"> [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment">#**********************************</span></span><br><span class="line"><span class="comment"># 传入多个索引数组（要使用np.ix_），笛卡尔积</span></span><br><span class="line"><span class="comment"># 例如 A=&#123;a,b&#125;, B=&#123;0,1,2&#125;，则：</span></span><br><span class="line"><span class="comment"># A×B=&#123;(a,0),(a,1),(a,2),(b,0),(b,1),(b,2)&#125;</span></span><br><span class="line"><span class="comment"># B×A=&#123;(0,a),(0,b),(1,a),(1,b),(2,a),(2,b)&#125;</span></span><br><span class="line">d = np.arange(<span class="number">32</span>).reshape((<span class="number">8</span>,<span class="number">4</span>))</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"><span class="built_in">print</span>(d[np.ix_([<span class="number">1</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>])])</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line"> [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]</span><br><span class="line"> [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]</span><br><span class="line"> [<span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span>]</span><br><span class="line"> [<span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span>]</span><br><span class="line"> [<span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span>]</span><br><span class="line"> [<span class="number">24</span> <span class="number">25</span> <span class="number">26</span> <span class="number">27</span>]</span><br><span class="line"> [<span class="number">28</span> <span class="number">29</span> <span class="number">30</span> <span class="number">31</span>]]</span><br><span class="line">[[ <span class="number">4</span>  <span class="number">7</span>  <span class="number">5</span>  <span class="number">6</span>]</span><br><span class="line"> [<span class="number">20</span> <span class="number">23</span> <span class="number">21</span> <span class="number">22</span>]</span><br><span class="line"> [<span class="number">28</span> <span class="number">31</span> <span class="number">29</span> <span class="number">30</span>]</span><br><span class="line"> [ <span class="number">8</span> <span class="number">11</span>  <span class="number">9</span> <span class="number">10</span>]]</span><br></pre></td></tr></table></figure>

<h2 id="⛄ufunc函数"><a href="#⛄ufunc函数" class="headerlink" title="⛄ufunc函数"></a>⛄ufunc函数</h2><h3 id="👀NumPy广播（Broadcast）"><a href="#👀NumPy广播（Broadcast）" class="headerlink" title="👀NumPy广播（Broadcast）"></a>👀NumPy广播（Broadcast）</h3><p>广播(Broadcast)是numpy对不同形状(shape)的数组进行数值计算的方式， 对数组的算术运算通常在相应的元素上进行。如果两个数组a和b形状相同，即满足<strong>a.shape &#x3D;&#x3D; b.shape</strong>，那么a*b的结果就是a与b数组对应位相乘。这要求维数相同，且各维度的长度相同。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]) </span><br><span class="line">b = np.array([<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>]) </span><br><span class="line">c = a * b </span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"><span class="comment"># 当运算中的2个数组的形状不同时，numpy将自动触发广播机制</span></span><br><span class="line">d = np.array([[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line">           [<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>],</span><br><span class="line">           [<span class="number">20</span>,<span class="number">20</span>,<span class="number">20</span>],</span><br><span class="line">           [<span class="number">30</span>,<span class="number">30</span>,<span class="number">30</span>]])</span><br><span class="line">e = np.array([<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>])</span><br><span class="line"><span class="built_in">print</span>(d + e)</span><br><span class="line"><span class="comment"># 4x3的二维数组与长为3的一维数组相加，等效于把数组b在二维上重复4次再运算：</span></span><br><span class="line">f = np.array([[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line">           [<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>],</span><br><span class="line">           [<span class="number">20</span>,<span class="number">20</span>,<span class="number">20</span>],</span><br><span class="line">           [<span class="number">30</span>,<span class="number">30</span>,<span class="number">30</span>]])</span><br><span class="line">g = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">gg = np.tile(g,(<span class="number">4</span>,<span class="number">1</span>))  <span class="comment">#重复b的各个维度</span></span><br><span class="line"><span class="built_in">print</span>(gg)</span><br><span class="line"><span class="built_in">print</span>(f+gg)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="number">10</span> <span class="number">40</span> <span class="number">90</span> <span class="number">160</span>]</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>]</span><br><span class="line"> [<span class="number">10</span> <span class="number">11</span> <span class="number">12</span>]</span><br><span class="line"> [<span class="number">20</span> <span class="number">21</span> <span class="number">22</span>]</span><br><span class="line"> [<span class="number">30</span> <span class="number">31</span> <span class="number">32</span>]]</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]]</span><br><span class="line">[[ <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line"> [<span class="number">11</span> <span class="number">12</span> <span class="number">13</span>]</span><br><span class="line"> [<span class="number">21</span> <span class="number">22</span> <span class="number">23</span>]</span><br><span class="line"> [<span class="number">31</span> <span class="number">32</span> <span class="number">33</span>]]</span><br></pre></td></tr></table></figure>

<p>广播的规则：</p>
<ul>
<li>让所有输入数组都向其中形状最长的数组看齐，形状中不足的部分都通过在前面加1补齐。</li>
<li>输出数组的形状是输入数组形状的各个维度上的最大值。</li>
<li>如果输入数组的某个维度和输出数组的对应维度的长度相同或者其长度为1时，这个数组能够用来计算，否则出错。</li>
<li>当输入数组的某个维度的长度为1时，沿着此维度运算时都用此维度上的第一组值。</li>
</ul>
<p><strong>简单理解：</strong>对两个数组，分别比较他们的每一个维度（若其中一个数组没有当前维度则忽略），满足：</p>
<ul>
<li>数组拥有相同形状。</li>
<li>当前维度的值相等。</li>
<li>当前维度的值有一个是1。</li>
</ul>
<p>若条件不满足，抛出 <strong>“ValueError: frames are not aligned”</strong> 异常。</p>
<h3 id="👀NumPy迭代数组"><a href="#👀NumPy迭代数组" class="headerlink" title="👀NumPy迭代数组"></a>👀NumPy迭代数组</h3><p><code>NumPy</code>迭代器对象<code>numpy.nditer</code>提供了一种灵活访问一个或者多个数组元素的方式。</p>
<p>迭代器最基本的任务的可以完成对数组元素的访问。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.arange(<span class="number">6</span>).reshape(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;原始数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;迭代输出元素：&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a):</span><br><span class="line">    <span class="built_in">print</span>(x, end=<span class="string">&quot;, &quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">原始数组是：</span><br><span class="line">[[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]]</span><br><span class="line"></span><br><span class="line">迭代输出元素：</span><br><span class="line"><span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, </span><br></pre></td></tr></table></figure>

<p>以上实例不是使用标准C或者Fortran顺序，选择的顺序是和数组内存布局一致的，这样做是为了提升访问的效率，<strong>默认是行序优先</strong>（row-major order，或者说是 C-order）。这反映了默认情况下只需访问每个元素，而无需考虑其特定顺序。<code>a</code>和<code>a.T</code>的遍历顺序是一样的，也就是他们在内存中的存储顺序也是一样的，但是<code>a.T.copy(order = &#39;C&#39;)</code>的遍历结果是不同的，那是因为它和前两种的存储方式是不一样的，默认是按行访问。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">6</span>).reshape(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a.T):</span><br><span class="line">    <span class="built_in">print</span>(x, end=<span class="string">&quot;, &quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a.T.copy(order=<span class="string">&#x27;C&#x27;</span>)):</span><br><span class="line">    <span class="built_in">print</span>(x, end=<span class="string">&quot;, &quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line"><span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, </span><br><span class="line"></span><br><span class="line"><span class="number">0</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>,</span><br></pre></td></tr></table></figure>

<p>（1）控制遍历顺序</p>
<ul>
<li><code>for x in np.nditer(a, order=&#39;F&#39;):</code>Fortran order，即是列序优先；</li>
<li><code>for x in np.nditer(a.T, order=&#39;C&#39;):</code>C order，即是行序优先；</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>) </span><br><span class="line">a = a.reshape(<span class="number">3</span>,<span class="number">4</span>)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;原始数组是：&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(a) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;原始数组的转置是：&#x27;</span>) </span><br><span class="line">b = a.T </span><br><span class="line"><span class="built_in">print</span>(b) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;以 C 风格顺序排序：&#x27;</span>) </span><br><span class="line">c = b.copy(order=<span class="string">&#x27;C&#x27;</span>)  </span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(c):  </span><br><span class="line">    <span class="built_in">print</span> (x, end=<span class="string">&quot;, &quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;以 F 风格顺序排序：&#x27;</span>)</span><br><span class="line">c = b.copy(order=<span class="string">&#x27;F&#x27;</span>)  </span><br><span class="line"><span class="built_in">print</span> (c)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(c):  </span><br><span class="line">    <span class="built_in">print</span>(x, end=<span class="string">&quot;, &quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">原始数组是：</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">5</span> <span class="number">10</span> <span class="number">15</span>]</span><br><span class="line"> [<span class="number">20</span> <span class="number">25</span> <span class="number">30</span> <span class="number">35</span>]</span><br><span class="line"> [<span class="number">40</span> <span class="number">45</span> <span class="number">50</span> <span class="number">55</span>]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">原始数组的转置是：</span><br><span class="line">[[ <span class="number">0</span> <span class="number">20</span> <span class="number">40</span>]</span><br><span class="line"> [ <span class="number">5</span> <span class="number">25</span> <span class="number">45</span>]</span><br><span class="line"> [<span class="number">10</span> <span class="number">30</span> <span class="number">50</span>]</span><br><span class="line"> [<span class="number">15</span> <span class="number">35</span> <span class="number">55</span>]]</span><br><span class="line"></span><br><span class="line">以 C 风格顺序排序：</span><br><span class="line">[[ <span class="number">0</span> <span class="number">20</span> <span class="number">40</span>]</span><br><span class="line"> [ <span class="number">5</span> <span class="number">25</span> <span class="number">45</span>]</span><br><span class="line"> [<span class="number">10</span> <span class="number">30</span> <span class="number">50</span>]</span><br><span class="line"> [<span class="number">15</span> <span class="number">35</span> <span class="number">55</span>]]</span><br><span class="line"><span class="number">0</span>, <span class="number">20</span>, <span class="number">40</span>, <span class="number">5</span>, <span class="number">25</span>, <span class="number">45</span>, <span class="number">10</span>, <span class="number">30</span>, <span class="number">50</span>, <span class="number">15</span>, <span class="number">35</span>, <span class="number">55</span>, </span><br><span class="line"></span><br><span class="line">以 F 风格顺序排序：</span><br><span class="line">[[ <span class="number">0</span> <span class="number">20</span> <span class="number">40</span>]</span><br><span class="line"> [ <span class="number">5</span> <span class="number">25</span> <span class="number">45</span>]</span><br><span class="line"> [<span class="number">10</span> <span class="number">30</span> <span class="number">50</span>]</span><br><span class="line"> [<span class="number">15</span> <span class="number">35</span> <span class="number">55</span>]]</span><br><span class="line"><span class="number">0</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">25</span>, <span class="number">30</span>, <span class="number">35</span>, <span class="number">40</span>, <span class="number">45</span>, <span class="number">50</span>, <span class="number">55</span>, </span><br></pre></td></tr></table></figure>

<p>可以通过显式设置，来强制nditer对象使用某种顺序：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>) </span><br><span class="line">a = a.reshape(<span class="number">3</span>,<span class="number">4</span>)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;原始数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;以 C 风格顺序排序：&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a, order = <span class="string">&#x27;C&#x27;</span>):  </span><br><span class="line">    <span class="built_in">print</span>(x, end=<span class="string">&quot;, &quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;以 F 风格顺序排序：&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a, order = <span class="string">&#x27;F&#x27;</span>):  </span><br><span class="line">    <span class="built_in">print</span>(x, end=<span class="string">&quot;, &quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">原始数组是：</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">5</span> <span class="number">10</span> <span class="number">15</span>]</span><br><span class="line"> [<span class="number">20</span> <span class="number">25</span> <span class="number">30</span> <span class="number">35</span>]</span><br><span class="line"> [<span class="number">40</span> <span class="number">45</span> <span class="number">50</span> <span class="number">55</span>]]</span><br><span class="line"></span><br><span class="line">以 C 风格顺序排序：</span><br><span class="line"><span class="number">0</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">25</span>, <span class="number">30</span>, <span class="number">35</span>, <span class="number">40</span>, <span class="number">45</span>, <span class="number">50</span>, <span class="number">55</span>, </span><br><span class="line"></span><br><span class="line">以 F 风格顺序排序：</span><br><span class="line"><span class="number">0</span>, <span class="number">20</span>, <span class="number">40</span>, <span class="number">5</span>, <span class="number">25</span>, <span class="number">45</span>, <span class="number">10</span>, <span class="number">30</span>, <span class="number">50</span>, <span class="number">15</span>, <span class="number">35</span>, <span class="number">55</span>, </span><br></pre></td></tr></table></figure>

<p>（2）修改数组中元素的值</p>
<p><code>nditer</code>对象有另一个可选参数<code>op_flags</code>。 默认情况下，<code>nditer</code>将视待迭代遍历的数组为只读对象（read-only），为了在遍历数组的同时，实现对数组元素值得修改，必须指定<code>readwrite</code>或者<code>writeonly</code>的模式。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>) </span><br><span class="line">a = a.reshape(<span class="number">3</span>,<span class="number">4</span>)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;原始数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a, op_flags=[<span class="string">&#x27;readwrite&#x27;</span>]): </span><br><span class="line">    <span class="comment"># x[...]是修改原numpy元素，x只是个拷贝。</span></span><br><span class="line">    x[...]=<span class="number">2</span>*x </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;修改后的数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">原始数组是：</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">5</span> <span class="number">10</span> <span class="number">15</span>]</span><br><span class="line"> [<span class="number">20</span> <span class="number">25</span> <span class="number">30</span> <span class="number">35</span>]</span><br><span class="line"> [<span class="number">40</span> <span class="number">45</span> <span class="number">50</span> <span class="number">55</span>]]</span><br><span class="line"></span><br><span class="line">修改后的数组是：</span><br><span class="line">[[  <span class="number">0</span>  <span class="number">10</span>  <span class="number">20</span>  <span class="number">30</span>]</span><br><span class="line"> [ <span class="number">40</span>  <span class="number">50</span>  <span class="number">60</span>  <span class="number">70</span>]</span><br><span class="line"> [ <span class="number">80</span>  <span class="number">90</span> <span class="number">100</span> <span class="number">110</span>]]</span><br></pre></td></tr></table></figure>

<p>（3）使用外部循环</p>
<p><code>nditer</code>类的构造器拥有flags参数，它可以接受下列值：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>c_index</code></td>
<td>可以跟踪C顺序的索引</td>
</tr>
<tr>
<td><code>f_index</code></td>
<td>可以跟踪Fortran顺序的索引</td>
</tr>
<tr>
<td><code>multi_index</code></td>
<td>每次迭代可以跟踪一种索引类型</td>
</tr>
<tr>
<td><code>external_loop</code></td>
<td>给出的值是具有多个值的一维数组，而不是零维数组</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 迭代器遍历对应于每列，并组合为一维数组</span></span><br><span class="line"><span class="comment"># 当数组的order与在循环中指定的order顺序不同时，打印为多个一维数组，当相同时，是整个一个一维数组。</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>) </span><br><span class="line">a = a.reshape(<span class="number">3</span>,<span class="number">4</span>)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;原始数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;修改后的数组(F风格)是：&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a, flags = [<span class="string">&#x27;external_loop&#x27;</span>], order = <span class="string">&#x27;F&#x27;</span>):  </span><br><span class="line">   <span class="built_in">print</span>(x, end=<span class="string">&quot;, &quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;修改后的数组(C风格)是：&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> y <span class="keyword">in</span> np.nditer(a, flags = [<span class="string">&#x27;external_loop&#x27;</span>], order = <span class="string">&#x27;C&#x27;</span>):  </span><br><span class="line">   <span class="built_in">print</span>(y, end=<span class="string">&quot;, &quot;</span>)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">原始数组是：</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">5</span> <span class="number">10</span> <span class="number">15</span>]</span><br><span class="line"> [<span class="number">20</span> <span class="number">25</span> <span class="number">30</span> <span class="number">35</span>]</span><br><span class="line"> [<span class="number">40</span> <span class="number">45</span> <span class="number">50</span> <span class="number">55</span>]]</span><br><span class="line"></span><br><span class="line">修改后的数组(F风格)是：</span><br><span class="line">[ <span class="number">0</span> <span class="number">20</span> <span class="number">40</span>], [ <span class="number">5</span> <span class="number">25</span> <span class="number">45</span>], [<span class="number">10</span> <span class="number">30</span> <span class="number">50</span>], [<span class="number">15</span> <span class="number">35</span> <span class="number">55</span>], </span><br><span class="line"></span><br><span class="line">修改后的数组(C风格)是：</span><br><span class="line">[ <span class="number">0</span>  <span class="number">5</span> <span class="number">10</span> <span class="number">15</span> <span class="number">20</span> <span class="number">25</span> <span class="number">30</span> <span class="number">35</span> <span class="number">40</span> <span class="number">45</span> <span class="number">50</span> <span class="number">55</span>], </span><br></pre></td></tr></table></figure>

<p>（4）广播迭代</p>
<p>如果两个数组是可广播的，<code>nditer</code>组合对象能够同时迭代它们。 假设数组a的维度为3X4，数组b的维度为1X4 ，则使用以下迭代器（数组b被广播到a的大小）。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>) </span><br><span class="line">a = a.reshape(<span class="number">3</span>,<span class="number">4</span>)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;第一个数组为：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;第二个数组为：&#x27;</span>)</span><br><span class="line">b = np.array([<span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>], dtype = <span class="built_in">int</span>)  </span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;修改后的数组为：&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> x,y <span class="keyword">in</span> np.nditer([a,b]):  </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;%d:%d&quot;</span>%(x,y), end=<span class="string">&quot;, &quot;</span>)</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">第一个数组为：</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">5</span> <span class="number">10</span> <span class="number">15</span>]</span><br><span class="line"> [<span class="number">20</span> <span class="number">25</span> <span class="number">30</span> <span class="number">35</span>]</span><br><span class="line"> [<span class="number">40</span> <span class="number">45</span> <span class="number">50</span> <span class="number">55</span>]]</span><br><span class="line"></span><br><span class="line">第二个数组为：</span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">修改后的数组为：</span><br><span class="line"><span class="number">0</span>:<span class="number">1</span>, <span class="number">5</span>:<span class="number">2</span>, <span class="number">10</span>:<span class="number">3</span>, <span class="number">15</span>:<span class="number">4</span>, <span class="number">20</span>:<span class="number">1</span>, <span class="number">25</span>:<span class="number">2</span>, <span class="number">30</span>:<span class="number">3</span>, <span class="number">35</span>:<span class="number">4</span>, <span class="number">40</span>:<span class="number">1</span>, <span class="number">45</span>:<span class="number">2</span>, <span class="number">50</span>:<span class="number">3</span>, <span class="number">55</span>:<span class="number">4</span>, </span><br></pre></td></tr></table></figure>

<h3 id="👀NumPy数组操作"><a href="#👀NumPy数组操作" class="headerlink" title="👀NumPy数组操作"></a>👀NumPy数组操作</h3><p><code>Numpy</code>中包含了一些函数用于处理数组，大概可分为以下几类：</p>
<h4 id="👁修改数组形状"><a href="#👁修改数组形状" class="headerlink" title="👁修改数组形状"></a>👁修改数组形状</h4><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>reshape</code></td>
<td>不改变数据的条件下修改形状</td>
</tr>
<tr>
<td><code>flat</code></td>
<td>数组元素迭代器</td>
</tr>
<tr>
<td><code>flatten</code></td>
<td>返回一份数组拷贝，对拷贝所做的修改不会影响原始数组</td>
</tr>
<tr>
<td><code>ravel</code></td>
<td>返回展开数组</td>
</tr>
</tbody></table>
<h4 id="👁翻转数组"><a href="#👁翻转数组" class="headerlink" title="👁翻转数组"></a>👁翻转数组</h4><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>transpose</code></td>
<td>对换数组的维度</td>
</tr>
<tr>
<td><code>ndarray.T</code></td>
<td>和 <code>self.transpose()</code> 相同</td>
</tr>
<tr>
<td><code>rollaxis</code></td>
<td>向后滚动指定的轴</td>
</tr>
<tr>
<td><code>swapaxes</code></td>
<td>对换数组的两个轴</td>
</tr>
</tbody></table>
<h4 id="👁修改数组维度"><a href="#👁修改数组维度" class="headerlink" title="👁修改数组维度"></a>👁修改数组维度</h4><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>broadcast</code></td>
<td>产生模仿广播的对象</td>
</tr>
<tr>
<td><code>broadcast_to</code></td>
<td>将数组广播到新形状</td>
</tr>
<tr>
<td><code>expand_dims</code></td>
<td>扩展数组的形状</td>
</tr>
<tr>
<td><code>squeeze</code></td>
<td>从数组的形状中删除一维条目</td>
</tr>
</tbody></table>
<h4 id="👁连接数组"><a href="#👁连接数组" class="headerlink" title="👁连接数组"></a>👁连接数组</h4><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>concatenate</code></td>
<td>连接沿现有轴的数组序列</td>
</tr>
<tr>
<td><code>stack</code></td>
<td>沿着新的轴加入一系列数组。</td>
</tr>
<tr>
<td><code>hstack</code></td>
<td>水平堆叠序列中的数组（列方向）</td>
</tr>
<tr>
<td><code>vstack</code></td>
<td>竖直堆叠序列中的数组（行方向）</td>
</tr>
</tbody></table>
<h4 id="👁分割数组"><a href="#👁分割数组" class="headerlink" title="👁分割数组"></a>👁分割数组</h4><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>split</code></td>
<td>将一个数组分割为多个子数组</td>
</tr>
<tr>
<td><code>hsplit</code></td>
<td>将一个数组水平分割为多个子数组（按列）</td>
</tr>
<tr>
<td><code>vsplit</code></td>
<td>将一个数组垂直分割为多个子数组（按行）</td>
</tr>
</tbody></table>
<h4 id="👁数组元素的添加与删除"><a href="#👁数组元素的添加与删除" class="headerlink" title="👁数组元素的添加与删除"></a>👁数组元素的添加与删除</h4><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>resize</code></td>
<td>返回指定形状的新数组</td>
</tr>
<tr>
<td><code>append</code></td>
<td>将值添加到数组末尾</td>
</tr>
<tr>
<td><code>insert</code></td>
<td>沿指定轴将值插入到指定下标之前</td>
</tr>
<tr>
<td><code>delete</code></td>
<td>删掉某个轴的子数组，并返回删除后的新数组</td>
</tr>
<tr>
<td><code>unique</code></td>
<td>查找数组内的唯一元素</td>
</tr>
</tbody></table>
<h3 id="👀NumPy位运算"><a href="#👀NumPy位运算" class="headerlink" title="👀NumPy位运算"></a>👀NumPy位运算</h3><p><code>NumPy</code><strong>“bitwise_”</strong> 开头的函数是位运算函数。<code>NumPy</code>位运算包括以下几个函数：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>bitwise_and</code></td>
<td>对数组元素执行位与操作</td>
</tr>
<tr>
<td><code>bitwise_or</code></td>
<td>对数组元素执行位或操作</td>
</tr>
<tr>
<td><code>invert</code></td>
<td>按位取反</td>
</tr>
<tr>
<td><code>left_shift</code></td>
<td>向左移动二进制表示的位，相当于右侧附加相等数量的0</td>
</tr>
<tr>
<td><code>right_shift</code></td>
<td>向右移动二进制表示的位，相当于左侧附加相等数量的0</td>
</tr>
</tbody></table>
<p><code>bitwise_and()</code>函数对数组中整数的二进制形式执行位与运算。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;13和17的二进制形式：&#x27;</span>)</span><br><span class="line">a,b = <span class="number">13</span>,<span class="number">17</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bin</span>(a), <span class="built_in">bin</span>(b))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;13和17的位与：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.bitwise_and(<span class="number">13</span>, <span class="number">17</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line"><span class="number">13</span>和<span class="number">17</span>的二进制形式：</span><br><span class="line"><span class="number">0b1101</span> <span class="number">0b10001</span></span><br><span class="line"></span><br><span class="line"><span class="number">13</span>和<span class="number">17</span>的位与：</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><code>bitwise_or()</code>函数对数组中整数的二进制形式执行位或运算。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a,b = <span class="number">13</span>,<span class="number">17</span> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;13和17的二进制形式：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bin</span>(a), <span class="built_in">bin</span>(b))</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;13和17的位或：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.bitwise_or(<span class="number">13</span>, <span class="number">17</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line"><span class="number">13</span>和<span class="number">17</span>的二进制形式：</span><br><span class="line"><span class="number">0b1101</span> <span class="number">0b10001</span></span><br><span class="line"><span class="number">13</span>和<span class="number">17</span>的位或：</span><br><span class="line"><span class="number">29</span></span><br></pre></td></tr></table></figure>

<p><code>invert()</code>函数对数组中整数进行位取反运算，即0变成1，1变成0。对于有符号整数，取该二进制数的补码，然后 +1。二进制数，最高位为0表示正数，最高位为1表示负数。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;13的位反转，其中ndarray的dtype是uint8：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.invert(np.array([<span class="number">13</span>], dtype = np.uint8)))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="comment"># 比较13和242的二进制表示，我们发现了位的反转</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;13的二进制表示：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.binary_repr(<span class="number">13</span>, width = <span class="number">8</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;242的二进制表示：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.binary_repr(<span class="number">242</span>, width = <span class="number">8</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line"><span class="number">13</span>的位反转，其中ndarray的dtype是uint8：</span><br><span class="line">[<span class="number">242</span>]</span><br><span class="line"></span><br><span class="line"><span class="number">13</span>的二进制表示：</span><br><span class="line">00001101</span><br><span class="line"></span><br><span class="line"><span class="number">242</span>的二进制表示：</span><br><span class="line"><span class="number">11110010</span></span><br></pre></td></tr></table></figure>

<p><code>left_shift()</code>函数将数组元素的二进制形式向左移动到指定位置，右侧附加相等数量的0。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;将10左移两位：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.left_shift(<span class="number">10</span>,<span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;10的二进制表示：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.binary_repr(<span class="number">10</span>, width = <span class="number">8</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;40的二进制表示：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.binary_repr(<span class="number">40</span>, width = <span class="number">8</span>))</span><br><span class="line"><span class="comment"># &#x27;00001010&#x27; 中的两位移动到了左边，并在右边添加了两个0。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">将<span class="number">10</span>左移两位：</span><br><span class="line"><span class="number">40</span></span><br><span class="line"></span><br><span class="line"><span class="number">10</span>的二进制表示：</span><br><span class="line"><span class="number">0000</span>1010</span><br><span class="line"></span><br><span class="line"><span class="number">40</span>的二进制表示：</span><br><span class="line"><span class="number">00</span>101000</span><br></pre></td></tr></table></figure>

<p><code>right_shift()</code>函数将数组元素的二进制形式向右移动到指定位置，左侧附加相等数量的0。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;将40右移两位：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.right_shift(<span class="number">40</span>,<span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;40的二进制表示：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.binary_repr(<span class="number">40</span>, width = <span class="number">8</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;10的二进制表示：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.binary_repr(<span class="number">10</span>, width = <span class="number">8</span>))</span><br><span class="line"><span class="comment"># &#x27;00001010&#x27;中的两位移动到了右边，并在左边添加了两个0。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">将<span class="number">40</span>右移两位：</span><br><span class="line"><span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="number">40</span>的二进制表示：</span><br><span class="line"><span class="number">00</span>101000</span><br><span class="line"></span><br><span class="line"><span class="number">10</span>的二进制表示：</span><br><span class="line"><span class="number">0000</span>1010</span><br></pre></td></tr></table></figure>

<h3 id="👀NumPy字符串函数"><a href="#👀NumPy字符串函数" class="headerlink" title="👀NumPy字符串函数"></a>👀NumPy字符串函数</h3><p>以下函数用于对<code>dtype</code>为<code>numpy.string_</code>或<code>numpy.unicode_</code>的数组执行向量化字符串操作。 它们基于Python 内置库中的标准字符串函数。这些函数在字符数组类（<code>numpy.char</code>）中定义。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>add()</code></td>
<td>对两个数组的逐个字符串元素进行连接</td>
</tr>
<tr>
<td><code>multiply()</code></td>
<td>返回按元素多重连接后的字符串</td>
</tr>
<tr>
<td><code>center()</code></td>
<td>居中字符串</td>
</tr>
<tr>
<td><code>capitalize()</code></td>
<td>将字符串第一个字母转换为大写</td>
</tr>
<tr>
<td><code>title()</code></td>
<td>将字符串的每个单词的第一个字母转换为大写</td>
</tr>
<tr>
<td><code>lower()</code></td>
<td>数组元素转换为小写</td>
</tr>
<tr>
<td><code>upper()</code></td>
<td>数组元素转换为大写</td>
</tr>
<tr>
<td><code>split()</code></td>
<td>指定分隔符对字符串进行分割，并返回数组列表</td>
</tr>
<tr>
<td><code>splitlines()</code></td>
<td>返回元素中的行列表，以换行符分割</td>
</tr>
<tr>
<td><code>strip()</code></td>
<td>移除元素开头或者结尾处的特定字符</td>
</tr>
<tr>
<td><code>join()</code></td>
<td>通过指定分隔符来连接数组中的元素</td>
</tr>
<tr>
<td><code>replace()</code></td>
<td>使用新字符串替换字符串中的所有子字符串</td>
</tr>
<tr>
<td><code>decode()</code></td>
<td>数组元素依次调用<code>str.decode</code></td>
</tr>
<tr>
<td><code>encode()</code></td>
<td>数组元素依次调用<code>str.encode</code></td>
</tr>
</tbody></table>
<p><code>numpy.char.add()</code>函数依次对两个数组的元素进行字符串连接。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;连接两个字符串：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.char.add([<span class="string">&#x27;hello&#x27;</span>],[<span class="string">&#x27; xyz&#x27;</span>]))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;连接示例：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.char.add([<span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;hi&#x27;</span>],[<span class="string">&#x27; abc&#x27;</span>, <span class="string">&#x27; xyz&#x27;</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">连接两个字符串：</span><br><span class="line">[<span class="string">&#x27;hello xyz&#x27;</span>]</span><br><span class="line"></span><br><span class="line">连接示例：</span><br><span class="line">[<span class="string">&#x27;hello abc&#x27;</span> <span class="string">&#x27;hi xyz&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p><code>numpy.char.multiply()</code>函数执行多重连接。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(np.char.multiply(<span class="string">&#x27;Runoob &#x27;</span>,<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">Runoob Runoob Runoob </span><br></pre></td></tr></table></figure>

<p><code>numpy.char.center()</code>函数用于将字符串居中，并使用指定字符在左侧和右侧进行填充。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="comment"># np.char.center(str , width,fillchar) ：</span></span><br><span class="line"><span class="comment"># str: 字符串，width: 长度，fillchar: 填充字符</span></span><br><span class="line"><span class="built_in">print</span>(np.char.center(<span class="string">&#x27;Runoob&#x27;</span>, <span class="number">20</span>,fillchar = <span class="string">&#x27;*&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">*******Runoob*******</span><br></pre></td></tr></table></figure>

<p><code>numpy.char.capitalize()</code>函数将字符串的第一个字母转换为大写。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(np.char.capitalize(<span class="string">&#x27;runoob&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">Runoob</span><br></pre></td></tr></table></figure>

<p><code>numpy.char.title()</code>函数将字符串的每个单词的第一个字母转换为大写。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(np.char.title(<span class="string">&#x27;i like runoob&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">I Like Runoob</span><br></pre></td></tr></table></figure>

<p><code>numpy.char.lower()</code>函数对数组的每个元素转换为小写。它对每个元素调用str.lower。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="comment">#操作数组</span></span><br><span class="line"><span class="built_in">print</span>(np.char.lower([<span class="string">&#x27;RUNOOB&#x27;</span>,<span class="string">&#x27;GOOGLE&#x27;</span>]))</span><br><span class="line"><span class="comment"># 操作字符串</span></span><br><span class="line"><span class="built_in">print</span>(np.char.lower(<span class="string">&#x27;RUNOOB&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="string">&#x27;runoob&#x27;</span> <span class="string">&#x27;google&#x27;</span>]</span><br><span class="line">runoob</span><br></pre></td></tr></table></figure>

<p><code>numpy.char.upper()</code>函数对数组的每个元素转换为大写。它对每个元素调用 str.upper。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="comment">#操作数组</span></span><br><span class="line"><span class="built_in">print</span>(np.char.upper([<span class="string">&#x27;runoob&#x27;</span>,<span class="string">&#x27;google&#x27;</span>]))</span><br><span class="line"><span class="comment"># 操作字符串</span></span><br><span class="line"><span class="built_in">print</span>(np.char.upper(<span class="string">&#x27;runoob&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="string">&#x27;RUNOOB&#x27;</span> <span class="string">&#x27;GOOGLE&#x27;</span>]</span><br><span class="line">RUNOOB</span><br></pre></td></tr></table></figure>

<p><code>numpy.char.split()</code>通过指定分隔符对字符串进行分割，并返回数组。默认情况下，分隔符为空格。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="comment"># 分隔符默认为空格</span></span><br><span class="line"><span class="built_in">print</span>(np.char.split(<span class="string">&#x27;i like runoob?&#x27;</span>))</span><br><span class="line"><span class="comment"># 分隔符为.</span></span><br><span class="line"><span class="built_in">print</span>(np.char.split(<span class="string">&#x27;www.runoob.com&#x27;</span>, sep = <span class="string">&#x27;.&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;like&#x27;</span>, <span class="string">&#x27;runoob?&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;www&#x27;</span>, <span class="string">&#x27;runoob&#x27;</span>, <span class="string">&#x27;com&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p><code>numpy.char.splitlines()</code>函数以换行符作为分隔符来分割字符串，并返回数组。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"><span class="comment"># \n，\r，\r\n 都可用作换行符。</span></span><br><span class="line"><span class="comment"># 换行符\n</span></span><br><span class="line"><span class="built_in">print</span>(np.char.splitlines(<span class="string">&#x27;i\nlike runoob?&#x27;</span>)) </span><br><span class="line"><span class="built_in">print</span>(np.char.splitlines(<span class="string">&#x27;i\rlike runoob?&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;like runoob?&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;like runoob?&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p><code>numpy.char.strip()</code>函数用于移除开头或结尾处的特定字符。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="comment"># 移除字符串头尾的a字符</span></span><br><span class="line"><span class="built_in">print</span>(np.char.strip(<span class="string">&#x27;ashok arunooba&#x27;</span>,<span class="string">&#x27;a&#x27;</span>))</span><br><span class="line"><span class="comment"># 移除数组元素头尾的a字符</span></span><br><span class="line"><span class="built_in">print</span>(np.char.strip([<span class="string">&#x27;arunooba&#x27;</span>,<span class="string">&#x27;admin&#x27;</span>,<span class="string">&#x27;java&#x27;</span>],<span class="string">&#x27;a&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">shok arunoob</span><br><span class="line">[<span class="string">&#x27;runoob&#x27;</span> <span class="string">&#x27;dmin&#x27;</span> <span class="string">&#x27;jav&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p><code>numpy.char.join()</code>函数通过指定分隔符来连接数组中的元素或字符串</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="comment"># 操作字符串</span></span><br><span class="line"><span class="built_in">print</span>(np.char.join(<span class="string">&#x27;:&#x27;</span>,<span class="string">&#x27;runoob&#x27;</span>))</span><br><span class="line"><span class="comment"># 指定多个分隔符操作数组元素</span></span><br><span class="line"><span class="built_in">print</span>(np.char.join([<span class="string">&#x27;:&#x27;</span>,<span class="string">&#x27;-&#x27;</span>],[<span class="string">&#x27;runoob&#x27;</span>,<span class="string">&#x27;google&#x27;</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">r:u:n:o:o:b</span><br><span class="line">[<span class="string">&#x27;r:u:n:o:o:b&#x27;</span> <span class="string">&#x27;g-o-o-g-l-e&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p><code>numpy.char.replace()</code>函数使用新字符串替换字符串中的所有子字符串。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(np.char.replace(<span class="string">&#x27;i like runoob&#x27;</span>, <span class="string">&#x27;oo&#x27;</span>, <span class="string">&#x27;cc&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">i like runccb</span><br></pre></td></tr></table></figure>

<p><code>numpy.char.encode()</code>函数对数组中的每个元素调用<code>str.encode</code>函数。 默认编码是utf-8，可以使用标准Python库中的编解码器。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.char.encode(<span class="string">&#x27;runoob&#x27;</span>, <span class="string">&#x27;cp500&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line"><span class="string">b&#x27;\x99\xa4\x95\x96\x96\x82&#x27;</span></span><br></pre></td></tr></table></figure>

<p><code>numpy.char.decode()</code>函数对编码的元素进行<code>str.decode()</code>解码。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.char.encode(<span class="string">&#x27;runoob&#x27;</span>, <span class="string">&#x27;cp500&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(np.char.decode(a,<span class="string">&#x27;cp500&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line"><span class="string">b&#x27;\x99\xa4\x95\x96\x96\x82&#x27;</span></span><br><span class="line">runoob</span><br></pre></td></tr></table></figure>

<h3 id="👀NumPy数学函数"><a href="#👀NumPy数学函数" class="headerlink" title="👀NumPy数学函数"></a>👀NumPy数学函数</h3><p><code>NumPy</code>包含大量的各种数学运算的函数，包括三角函数，算术运算的函数，复数处理函数等。</p>
<p>（1）三角函数</p>
<p>NumPy提供了标准的三角函数：sin()、cos()、tan()。arcsin，arccos，和arctan函数返回给定角度的sin，cos和tan的反三角函数。这些函数的结果可以通过<code>numpy.degrees()</code>函数将弧度转换为角度。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">0</span>,<span class="number">30</span>,<span class="number">45</span>,<span class="number">60</span>,<span class="number">90</span>])  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;含有正弦值的数组：&#x27;</span>)</span><br><span class="line">sin = np.sin(a*np.pi/<span class="number">180</span>)  </span><br><span class="line"><span class="built_in">print</span>(sin)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;计算角度的反正弦，返回值以弧度为单位：&#x27;</span>)</span><br><span class="line">inv = np.arcsin(sin)  </span><br><span class="line"><span class="built_in">print</span>(inv)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;通过转化为角度制来检查结果：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.degrees(inv))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">含有正弦值的数组：</span><br><span class="line">[<span class="number">0.</span>         <span class="number">0.5</span>        <span class="number">0.70710678</span> <span class="number">0.8660254</span>  <span class="number">1.</span>        ]</span><br><span class="line"></span><br><span class="line">计算角度的反正弦，返回值以弧度为单位：</span><br><span class="line">[<span class="number">0.</span>         <span class="number">0.52359878</span> <span class="number">0.78539816</span> <span class="number">1.04719755</span> <span class="number">1.57079633</span>]</span><br><span class="line"></span><br><span class="line">通过转化为角度制来检查结果：</span><br><span class="line">[ <span class="number">0.</span> <span class="number">30.</span> <span class="number">45.</span> <span class="number">60.</span> <span class="number">90.</span>]</span><br></pre></td></tr></table></figure>

<p>（2）舍入函数</p>
<p><code>numpy.around()</code>函数返回指定数字的四舍五入值。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numpy.around(a,decimals)</span><br><span class="line">参数说明：</span><br><span class="line">    a: 数组</span><br><span class="line">    decimals: 舍入的小数位数。默认值为<span class="number">0</span>。如果为负，整数将四舍五入到小数点左侧的位置。例如decimals为-<span class="number">1</span>，代表舍入到十位，<span class="number">13</span>舍入为<span class="number">10</span>,<span class="number">16</span>舍入为<span class="number">20</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">1.0</span>,<span class="number">5.55</span>,<span class="number">123</span>,<span class="number">0.567</span>,<span class="number">25.532</span>])  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;原数组：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;舍入后：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.around(a))</span><br><span class="line"><span class="built_in">print</span>(np.around(a, decimals = <span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(np.around(a, decimals = -<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">原数组：</span><br><span class="line">[<span class="number">1.</span>	<span class="number">5.55</span>  <span class="number">123.</span>	<span class="number">0.567</span>  <span class="number">25.532</span>]</span><br><span class="line"></span><br><span class="line">舍入后：</span><br><span class="line">[<span class="number">1.</span>  <span class="number">6.</span> <span class="number">123.</span>   <span class="number">1.</span>  <span class="number">26.</span>]</span><br><span class="line">[<span class="number">1.</span>  <span class="number">5.6</span> <span class="number">123.</span>    <span class="number">0.6</span>  <span class="number">25.5</span>]</span><br><span class="line">[<span class="number">0.</span>  <span class="number">10.</span> <span class="number">120.</span>   <span class="number">0.</span>  <span class="number">30.</span>]</span><br></pre></td></tr></table></figure>

<p><code>numpy.floor()</code>返回小于或者等于指定表达式的最大整数，即向下取整。</p>
<p><code>numpy.ceil()</code>返回大于或者等于指定表达式的最小整数，即向上取整。</p>
<h3 id="👀NumPy算术函数"><a href="#👀NumPy算术函数" class="headerlink" title="👀NumPy算术函数"></a>👀NumPy算术函数</h3><p><code>NumPy</code>算术函数包含简单的加减乘除: add()，subtract()，multiply()和divide()。需要注意的是数组必须具有相同的形状或符合数组广播规则。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">9</span>, dtype = np.float_).reshape(<span class="number">3</span>,<span class="number">3</span>)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;第一个数组：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;第二个数组：&#x27;</span>)</span><br><span class="line">b = np.array([<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>])  </span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;两个数组相加：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.add(a,b))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;两个数组相减：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.subtract(a,b))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;两个数组相乘：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.multiply(a,b))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;两个数组相除：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.divide(a,b))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">第一个数组：</span><br><span class="line">[[<span class="number">0.</span> <span class="number">1.</span> <span class="number">2.</span>]</span><br><span class="line"> [<span class="number">3.</span> <span class="number">4.</span> <span class="number">5.</span>]</span><br><span class="line"> [<span class="number">6.</span> <span class="number">7.</span> <span class="number">8.</span>]]</span><br><span class="line"></span><br><span class="line">第二个数组：</span><br><span class="line">[<span class="number">10</span> <span class="number">10</span> <span class="number">10</span>]</span><br><span class="line"></span><br><span class="line">两个数组相加：</span><br><span class="line">[[<span class="number">10.</span> <span class="number">11.</span> <span class="number">12.</span>]</span><br><span class="line"> [<span class="number">13.</span> <span class="number">14.</span> <span class="number">15.</span>]</span><br><span class="line"> [<span class="number">16.</span> <span class="number">17.</span> <span class="number">18.</span>]]</span><br><span class="line"></span><br><span class="line">两个数组相减：</span><br><span class="line">[[-<span class="number">10.</span>  -<span class="number">9.</span>  -<span class="number">8.</span>]</span><br><span class="line"> [ -<span class="number">7.</span>  -<span class="number">6.</span>  -<span class="number">5.</span>]</span><br><span class="line"> [ -<span class="number">4.</span>  -<span class="number">3.</span>  -<span class="number">2.</span>]]</span><br><span class="line"></span><br><span class="line">两个数组相乘：</span><br><span class="line">[[ <span class="number">0.</span> <span class="number">10.</span> <span class="number">20.</span>]</span><br><span class="line"> [<span class="number">30.</span> <span class="number">40.</span> <span class="number">50.</span>]</span><br><span class="line"> [<span class="number">60.</span> <span class="number">70.</span> <span class="number">80.</span>]]</span><br><span class="line"></span><br><span class="line">两个数组相除：</span><br><span class="line">[[<span class="number">0.</span>  <span class="number">0.1</span> <span class="number">0.2</span>]</span><br><span class="line"> [<span class="number">0.3</span> <span class="number">0.4</span> <span class="number">0.5</span>]</span><br><span class="line"> [<span class="number">0.6</span> <span class="number">0.7</span> <span class="number">0.8</span>]]</span><br></pre></td></tr></table></figure>

<p><code>numpy.reciprocal()</code>函数返回参数逐元素的倒数。如 <strong>1&#x2F;4</strong> 倒数为 <strong>4&#x2F;1</strong>。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">0.25</span>,  <span class="number">1.33</span>,  <span class="number">1</span>,  <span class="number">100</span>])  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们的数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;调用 reciprocal 函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.reciprocal(a))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">我们的数组是：</span><br><span class="line">[<span class="number">0.25</span>  <span class="number">1.33</span>  <span class="number">1.</span>  <span class="number">100.</span>]</span><br><span class="line"></span><br><span class="line">调用 reciprocal 函数：</span><br><span class="line">[<span class="number">4.</span>	<span class="number">0.7518797</span>	<span class="number">1.</span>	<span class="number">0.01</span>]</span><br></pre></td></tr></table></figure>

<p><code>numpy.power()</code>函数将第一个输入数组中的元素作为底数，计算它与第二个输入数组中相应元素的幂。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">10</span>,<span class="number">100</span>,<span class="number">1000</span>])  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们的数组是；&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;调用 power 函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.power(a,<span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;第二个数组：&#x27;</span>)</span><br><span class="line">b = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])  </span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;再次调用 power 函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.power(a,b))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">我们的数组是；</span><br><span class="line">[<span class="number">10</span>	<span class="number">100</span> <span class="number">1000</span>]</span><br><span class="line"></span><br><span class="line">调用power函数：</span><br><span class="line">[<span class="number">100</span>	<span class="number">10000</span>	<span class="number">1000000</span>]</span><br><span class="line"></span><br><span class="line">第二个数组：</span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">再次调用 power 函数：</span><br><span class="line">[<span class="number">10</span>	<span class="number">10000</span> <span class="number">1000000000</span>]</span><br></pre></td></tr></table></figure>

<p><code>numpy.mod()</code>计算输入数组中相应元素的相除后的余数。 函数<code>numpy.remainder()</code>也产生相同的结果。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>]) </span><br><span class="line">b = np.array([<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>])  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;第一个数组：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;第二个数组：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;调用 mod() 函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.mod(a,b))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;调用 remainder() 函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.remainder(a,b))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">第一个数组：</span><br><span class="line">[<span class="number">10</span> <span class="number">20</span> <span class="number">30</span>]</span><br><span class="line"></span><br><span class="line">第二个数组：</span><br><span class="line">[<span class="number">3</span> <span class="number">5</span> <span class="number">7</span>]</span><br><span class="line"></span><br><span class="line">调用mod()函数：</span><br><span class="line">[<span class="number">1</span> <span class="number">0</span> <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">调用remainder()函数：</span><br><span class="line">[<span class="number">1</span> <span class="number">0</span> <span class="number">2</span>]</span><br></pre></td></tr></table></figure>

<h3 id="👀NumPy统计函数"><a href="#👀NumPy统计函数" class="headerlink" title="👀NumPy统计函数"></a>👀NumPy统计函数</h3><p><code>NumPy</code>提供了很多统计函数，用于从数组中查找<strong>最小元素</strong>，<strong>最大元素</strong>，<strong>百分位标准差</strong>和<strong>方差</strong>等。 函数说明如下：</p>
<p><code>numpy.amin()</code>用于计算数组中的元素沿指定轴的最小值。</p>
<p><code>numpy.amax()</code>用于计算数组中的元素沿指定轴的最大值。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">3</span>,<span class="number">7</span>,<span class="number">5</span>],[<span class="number">8</span>,<span class="number">4</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">4</span>,<span class="number">9</span>]])  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们的数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;调用amin()函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.amin(a,<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;再次调用amin()函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.amin(a,<span class="number">0</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;调用amax()函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.amax(a))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;再次调用amax()函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.amax(a, axis = <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">3</span> <span class="number">7</span> <span class="number">5</span>]</span><br><span class="line"> [<span class="number">8</span> <span class="number">4</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">2</span> <span class="number">4</span> <span class="number">9</span>]]</span><br><span class="line"></span><br><span class="line">调用amin()函数：</span><br><span class="line">[<span class="number">3</span> <span class="number">3</span> <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">再次调用amin()函数：</span><br><span class="line">[<span class="number">2</span> <span class="number">4</span> <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">调用amax()函数：</span><br><span class="line"><span class="number">9</span></span><br><span class="line"></span><br><span class="line">再次调用amax()函数：</span><br><span class="line">[<span class="number">8</span> <span class="number">7</span> <span class="number">9</span>]</span><br></pre></td></tr></table></figure>

<p><code>numpy.ptp()</code>函数计算数组中元素最大值与最小值的差（最大值 - 最小值）。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">3</span>,<span class="number">7</span>,<span class="number">5</span>],[<span class="number">8</span>,<span class="number">4</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">4</span>,<span class="number">9</span>]])  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们的数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;调用ptp()函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.ptp(a))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;沿轴1调用ptp()函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.ptp(a, axis = <span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;沿轴0调用ptp()函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.ptp(a, axis = <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">3</span> <span class="number">7</span> <span class="number">5</span>]</span><br><span class="line"> [<span class="number">8</span> <span class="number">4</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">2</span> <span class="number">4</span> <span class="number">9</span>]]</span><br><span class="line"></span><br><span class="line">调用ptp()函数：</span><br><span class="line"><span class="number">7</span></span><br><span class="line"></span><br><span class="line">沿轴<span class="number">1</span>调用ptp()函数：</span><br><span class="line">[<span class="number">4</span> <span class="number">5</span> <span class="number">7</span>]</span><br><span class="line"></span><br><span class="line">沿轴<span class="number">0</span>调用ptp()函数：</span><br><span class="line">[<span class="number">6</span> <span class="number">3</span> <span class="number">6</span>]</span><br></pre></td></tr></table></figure>

<p>百分位数是统计中使用的度量，表示小于这个值的观察值的百分比。 函数<code>numpy.percentile()</code>接受以下参数。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numpy.percentile(a, q, axis)</span><br><span class="line">参数说明：</span><br><span class="line">    a: 输入数组</span><br><span class="line">    q: 要计算的百分位数，在<span class="number">0</span>~<span class="number">100</span>之间</span><br><span class="line">    axis: 沿着它计算百分位数的轴</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">10</span>, <span class="number">7</span>, <span class="number">4</span>], [<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们的数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;调用percentile()函数：&#x27;</span>)</span><br><span class="line"><span class="comment"># 50%的分位数，就是a里排序之后的中位数</span></span><br><span class="line"><span class="built_in">print</span>(np.percentile(a,<span class="number">50</span>)) </span><br><span class="line"><span class="comment"># axis为0，在纵列上求</span></span><br><span class="line"><span class="built_in">print</span>(np.percentile(a,<span class="number">50</span>,axis=<span class="number">0</span>)) </span><br><span class="line"><span class="comment"># axis为1，在横行上求</span></span><br><span class="line"><span class="built_in">print</span>(np.percentile(a,<span class="number">50</span>,axis=<span class="number">1</span>)) </span><br><span class="line"><span class="comment"># 保持维度不变</span></span><br><span class="line"><span class="built_in">print</span>(np.percentile(a,<span class="number">50</span>,axis=<span class="number">1</span>,keepdims=<span class="literal">True</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">10</span>  <span class="number">7</span>  <span class="number">4</span>]</span><br><span class="line"> [ <span class="number">3</span>  <span class="number">2</span>  <span class="number">1</span>]]</span><br><span class="line">调用percentile()函数：</span><br><span class="line"><span class="number">3.5</span></span><br><span class="line">[<span class="number">6.5</span> <span class="number">4.5</span> <span class="number">2.5</span>]</span><br><span class="line">[<span class="number">7.</span> <span class="number">2.</span>]</span><br><span class="line">[[<span class="number">7.</span>]</span><br><span class="line"> [<span class="number">2.</span>]]</span><br></pre></td></tr></table></figure>

<p><code>numpy.median()</code>函数用于计算数组a中元素的中位数（中值）</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">30</span>,<span class="number">65</span>,<span class="number">70</span>],[<span class="number">80</span>,<span class="number">95</span>,<span class="number">10</span>],[<span class="number">50</span>,<span class="number">90</span>,<span class="number">60</span>]])  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们的数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;调用median()函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.median(a))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;沿轴0调用median()函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.median(a, axis = <span class="number">0</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;沿轴1调用median()函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.median(a, axis = <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">30</span> <span class="number">65</span> <span class="number">70</span>]</span><br><span class="line"> [<span class="number">80</span> <span class="number">95</span> <span class="number">10</span>]</span><br><span class="line"> [<span class="number">50</span> <span class="number">90</span> <span class="number">60</span>]]</span><br><span class="line"></span><br><span class="line">调用median()函数：</span><br><span class="line"><span class="number">65.0</span></span><br><span class="line"></span><br><span class="line">沿轴<span class="number">0</span>调用median()函数：</span><br><span class="line">[<span class="number">50.</span> <span class="number">90.</span> <span class="number">60.</span>]</span><br><span class="line"></span><br><span class="line">沿轴<span class="number">1</span>调用median()函数：</span><br><span class="line">[<span class="number">65.</span> <span class="number">80.</span> <span class="number">60.</span>]</span><br></pre></td></tr></table></figure>

<p><code>numpy.mean()</code>函数返回数组中元素的算术平均值。 如果提供了轴，则沿其计算。算术平均值是沿轴的元素的总和除以元素的数量。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们的数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;调用mean()函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.mean(a))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;沿轴0调用mean()函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.mean(a, axis = <span class="number">0</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;沿轴1调用mean()函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.mean(a, axis = <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]]</span><br><span class="line"></span><br><span class="line">调用mean()函数：</span><br><span class="line"><span class="number">3.6666666666666665</span></span><br><span class="line"></span><br><span class="line">沿轴<span class="number">0</span>调用mean()函数：</span><br><span class="line">[<span class="number">2.66666667</span> <span class="number">3.66666667</span> <span class="number">4.66666667</span>]</span><br><span class="line"></span><br><span class="line">沿轴<span class="number">1</span>调用mean()函数：</span><br><span class="line">[<span class="number">2.</span> <span class="number">4.</span> <span class="number">5.</span>]</span><br></pre></td></tr></table></figure>

<p><code>numpy.average()</code>函数根据在另一个数组中给出的各自的权重计算数组中元素的加权平均值。该函数可以接受一个轴参数。 如果没有指定轴，则数组会被展开。加权平均值即将各数值乘以相应的权数，然后加总求和得到总体值，再除以总的单位数。考虑数组[1,2,3,4]和相应的权重[4,3,2,1]，通过将相应元素的乘积相加，并将和除以权重的和，来计算加权平均值。</p>
<blockquote>
<p>加权平均值 &#x3D; (1*4+2*3+3*2+4*1)&#x2F;(4+3+2+1)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们的数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;调用average()函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.average(a))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="comment"># 不指定权重时相当于mean函数</span></span><br><span class="line">wts = np.array([<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>])  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;再次调用average()函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.average(a,weights = wts))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="comment"># 如果returned参数设为true，则返回权重的和  </span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;权重的和：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.average([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],weights = [<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>], returned = <span class="literal">True</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">我们的数组是：</span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">调用average()函数：</span><br><span class="line"><span class="number">2.5</span></span><br><span class="line"></span><br><span class="line">再次调用average()函数：</span><br><span class="line"><span class="number">2.0</span></span><br><span class="line"></span><br><span class="line">权重的和：</span><br><span class="line">(<span class="number">2.0</span>, <span class="number">10.0</span>)</span><br></pre></td></tr></table></figure>

<p>在多维数组中，可以指定用于计算的轴。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">6</span>).reshape(<span class="number">3</span>,<span class="number">2</span>)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们的数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;修改后的数组：&#x27;</span>)</span><br><span class="line">wt = np.array([<span class="number">3</span>,<span class="number">5</span>])  </span><br><span class="line"><span class="built_in">print</span>(np.average(a, axis = <span class="number">1</span>, weights = wt))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;修改后的数组：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.average(a, axis = <span class="number">1</span>, weights = wt, returned = <span class="literal">True</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">0</span> <span class="number">1</span>]</span><br><span class="line"> [<span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span>]]</span><br><span class="line"></span><br><span class="line">修改后的数组：</span><br><span class="line">[<span class="number">0.625</span> <span class="number">2.625</span> <span class="number">4.625</span>]</span><br><span class="line"></span><br><span class="line">修改后的数组：</span><br><span class="line">(array([<span class="number">0.625</span>, <span class="number">2.625</span>, <span class="number">4.625</span>]), array([<span class="number">8.</span>, <span class="number">8.</span>, <span class="number">8.</span>]))</span><br></pre></td></tr></table></figure>

<p>标准差是一组数据平均值分散程度的一种度量。标准差是方差的算术平方根。标准差公式如下：</p>
<blockquote>
<p><code>std = sqrt(mean((x-x.mean())**2))</code></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(np.std([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line"><span class="number">1.118033988749895</span></span><br></pre></td></tr></table></figure>

<p>统计中的方差（样本方差）是每个样本值与全体样本值的平均数之差的平方值的平均数，即<code>mean((x-x.mean())**2)</code>。换句话说，标准差是方差的平方根。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(np.var([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line"><span class="number">1.25</span></span><br></pre></td></tr></table></figure>

<h3 id="👀NumPy排序、条件筛选函数"><a href="#👀NumPy排序、条件筛选函数" class="headerlink" title="👀NumPy排序、条件筛选函数"></a>👀NumPy排序、条件筛选函数</h3><p><code>NumPy</code>提供了多种排序的方法。 这些排序函数实现不同的排序算法，每个排序算法的特征在于执行速度，最坏情况性能，所需的工作空间和算法的稳定性。 下表显示了三种排序算法的比较。</p>
<table>
<thead>
<tr>
<th>种类</th>
<th>速度</th>
<th>最坏情况</th>
<th>工作空间</th>
<th>稳定性</th>
</tr>
</thead>
<tbody><tr>
<td><code>&#39;quicksort&#39;</code>（快速排序）</td>
<td>1</td>
<td>O(n^2)</td>
<td>0</td>
<td>否</td>
</tr>
<tr>
<td><code>&#39;mergesort&#39;</code>（归并排序）</td>
<td>2</td>
<td>O(n*log(n))</td>
<td>~n&#x2F;2</td>
<td>是</td>
</tr>
<tr>
<td><code>&#39;heapsort&#39;</code>（堆排序）</td>
<td>3</td>
<td>O(n*log(n))</td>
<td>0</td>
<td>否</td>
</tr>
</tbody></table>
<p><code>numpy.sort()</code>函数返回输入数组的排序副本。函数格式如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numpy.sort(a, axis, kind, order)</span><br><span class="line">参数说明：</span><br><span class="line">    a: 要排序的数组</span><br><span class="line">    axis: 沿着它排序数组的轴，如果没有数组会被展开，沿着最后的轴排序， axis=<span class="number">0</span>按列排序，axis=<span class="number">1</span>按行排序</span><br><span class="line">    kind: 默认为<span class="string">&#x27;quicksort&#x27;</span>（快速排序）</span><br><span class="line">    order: 如果数组包含字段，则是要排序的字段</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np  </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">3</span>,<span class="number">7</span>],[<span class="number">9</span>,<span class="number">1</span>]])  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们的数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;调用sort()函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.sort(a))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;按列排序：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.sort(a, axis =  <span class="number">0</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="comment"># 在sort函数中排序字段 </span></span><br><span class="line">dt = np.dtype([(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;S10&#x27;</span>),(<span class="string">&#x27;age&#x27;</span>,<span class="built_in">int</span>)]) </span><br><span class="line">a = np.array([(<span class="string">&quot;raju&quot;</span>,<span class="number">21</span>),(<span class="string">&quot;anil&quot;</span>,<span class="number">25</span>),(<span class="string">&quot;ravi&quot;</span>, <span class="number">17</span>), (<span class="string">&quot;amar&quot;</span>,<span class="number">27</span>)], dtype = dt)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们的数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;按name排序：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.sort(a, order = <span class="string">&#x27;name&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">3</span> <span class="number">7</span>]</span><br><span class="line"> [<span class="number">9</span> <span class="number">1</span>]]</span><br><span class="line"></span><br><span class="line">调用sort()函数：</span><br><span class="line">[[<span class="number">3</span> <span class="number">7</span>]</span><br><span class="line"> [<span class="number">1</span> <span class="number">9</span>]]</span><br><span class="line"></span><br><span class="line">按列排序：</span><br><span class="line">[[<span class="number">3</span> <span class="number">1</span>]</span><br><span class="line"> [<span class="number">9</span> <span class="number">7</span>]]</span><br><span class="line"></span><br><span class="line">我们的数组是：</span><br><span class="line">[(<span class="string">b&#x27;raju&#x27;</span>, <span class="number">21</span>) (<span class="string">b&#x27;anil&#x27;</span>, <span class="number">25</span>) (<span class="string">b&#x27;ravi&#x27;</span>, <span class="number">17</span>) (<span class="string">b&#x27;amar&#x27;</span>, <span class="number">27</span>)]</span><br><span class="line"></span><br><span class="line">按 name 排序：</span><br><span class="line">[(<span class="string">b&#x27;amar&#x27;</span>, <span class="number">27</span>) (<span class="string">b&#x27;anil&#x27;</span>, <span class="number">25</span>) (<span class="string">b&#x27;raju&#x27;</span>, <span class="number">21</span>) (<span class="string">b&#x27;ravi&#x27;</span>, <span class="number">17</span>)]</span><br></pre></td></tr></table></figure>

<p><code>numpy.argsort()</code>函数返回的是数组值从小到大的索引值。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">x = np.array([<span class="number">3</span>,  <span class="number">1</span>,  <span class="number">2</span>])  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们的数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;对x调用argsort()函数：&#x27;</span>)</span><br><span class="line">y = np.argsort(x)  </span><br><span class="line"><span class="built_in">print</span>(y)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;以排序后的顺序重构原数组：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(x[y])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;使用循环重构原数组：&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> y:  </span><br><span class="line">    <span class="built_in">print</span> (x[i], end=<span class="string">&quot; &quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">我们的数组是：</span><br><span class="line">[<span class="number">3</span> <span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">对x调用argsort()函数：</span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">以排序后的顺序重构原数组：</span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">使用循环重构原数组：</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><code>numpy.lexsort()</code>用于对多个序列进行排序。把它想象成对电子表格进行排序，每一列代表一个序列，排序时优先照顾靠后的列。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"></span><br><span class="line"><span class="comment"># 传入np.lexsort的是一个tuple，排序时首先排nm，顺序为：amar、anil、raju、ravi。综上排序结果为[3 1 0 2]。</span></span><br><span class="line">nm = (<span class="string">&#x27;raju&#x27;</span>,<span class="string">&#x27;anil&#x27;</span>,<span class="string">&#x27;ravi&#x27;</span>,<span class="string">&#x27;amar&#x27;</span>) </span><br><span class="line">dv = (<span class="string">&#x27;f.y.&#x27;</span>, <span class="string">&#x27;s.y.&#x27;</span>, <span class="string">&#x27;s.y.&#x27;</span>, <span class="string">&#x27;f.y.&#x27;</span>) </span><br><span class="line">ind = np.lexsort((dv,nm))  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;调用lexsort()函数：&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(ind) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;使用这个索引来获取排序后的数据：&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>([nm[i]+<span class="string">&quot;, &quot;</span> + dv[i] <span class="keyword">for</span> i <span class="keyword">in</span> ind])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">调用lexsort()函数：</span><br><span class="line">[<span class="number">3</span> <span class="number">1</span> <span class="number">0</span> <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">使用这个索引来获取排序后的数据：</span><br><span class="line">[<span class="string">&#x27;amar, f.y.&#x27;</span>, <span class="string">&#x27;anil, s.y.&#x27;</span>, <span class="string">&#x27;raju, f.y.&#x27;</span>, <span class="string">&#x27;ravi, s.y.&#x27;</span>]</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>msort(a)</code></td>
<td>数组按第一个轴排序，返回排序后的数组副本。<code>np.msort(a)</code>相等于<code>np.sort(a, axis=0)</code>。</td>
</tr>
<tr>
<td><code>sort_complex(a)</code></td>
<td>对复数按照先实部后虚部的顺序进行排序。</td>
</tr>
<tr>
<td><code>partition(a, kth[, axis, kind, order])</code></td>
<td>指定一个数，对数组进行分区</td>
</tr>
<tr>
<td><code>argpartition(a, kth[, axis, kind, order])</code></td>
<td>可以通过关键字<code>kind</code>指定算法沿着指定轴对数组进行分区</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 复数排序</span></span><br><span class="line"><span class="built_in">print</span>(np.sort_complex([<span class="number">5</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">1</span>]))</span><br><span class="line"><span class="built_in">print</span>(np.sort_complex([<span class="number">1</span>+<span class="number">2j</span>, <span class="number">2</span>-<span class="number">1j</span>, <span class="number">3</span>-<span class="number">2j</span>, <span class="number">3</span>-<span class="number">3j</span>, <span class="number">3</span>+<span class="number">5j</span>]))</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="number">1.</span>+<span class="number">0.j</span> <span class="number">2.</span>+<span class="number">0.j</span> <span class="number">3.</span>+<span class="number">0.j</span> <span class="number">5.</span>+<span class="number">0.j</span> <span class="number">6.</span>+<span class="number">0.j</span>]</span><br><span class="line">[<span class="number">1.</span>+<span class="number">2.j</span> <span class="number">2.</span>-<span class="number">1.j</span> <span class="number">3.</span>-<span class="number">3.j</span> <span class="number">3.</span>-<span class="number">2.j</span> <span class="number">3.</span>+<span class="number">5.j</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># partition()分区排序：</span></span><br><span class="line">a = np.array([<span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>])</span><br><span class="line"><span class="comment"># 将数组a中所有元素（包括重复元素）从小到大排列，3表示的是排序数组索引为3的数字，比该数字小的排在该数字前面，比该数字大的排在该数字的后面</span></span><br><span class="line"><span class="built_in">print</span>(np.partition(a, <span class="number">3</span>))</span><br><span class="line"><span class="comment"># 小于1的在前面，大于3的在后面，1和3之间的在中间</span></span><br><span class="line"><span class="built_in">print</span>(np.partition(a,(<span class="number">1</span>,<span class="number">3</span>)))</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="number">2</span> <span class="number">1</span> <span class="number">3</span> <span class="number">4</span>]</span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">arr = np.array([<span class="number">46</span>, <span class="number">57</span>, <span class="number">23</span>, <span class="number">39</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">120</span>])</span><br><span class="line"><span class="comment"># 找到数组的第3小（index=2）的值和第2大（index=-2）的值</span></span><br><span class="line"><span class="built_in">print</span>(arr[np.argpartition(arr, <span class="number">2</span>)[<span class="number">2</span>]])</span><br><span class="line"><span class="built_in">print</span>(arr[np.argpartition(arr, -<span class="number">2</span>)[-<span class="number">2</span>]])</span><br><span class="line"><span class="comment"># 同时找到第3和第4小的值。注意这里，用[2,3]同时将第3和第4小的排序好，然后可以分别通过下标[2]和[3]取得。</span></span><br><span class="line"><span class="built_in">print</span>(arr[np.argpartition(arr,[<span class="number">2</span>,<span class="number">3</span>])[<span class="number">2</span>]])</span><br><span class="line"><span class="built_in">print</span>(arr[np.argpartition(arr,[<span class="number">2</span>,<span class="number">3</span>])[<span class="number">3</span>]])</span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">57</span></span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">23</span></span><br></pre></td></tr></table></figure>

<p><code>numpy.argmax()</code>和<code>numpy.argmin()</code>函数分别沿给定轴返回最大和最小元素的索引。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">30</span>,<span class="number">40</span>,<span class="number">70</span>],[<span class="number">80</span>,<span class="number">20</span>,<span class="number">10</span>],[<span class="number">50</span>,<span class="number">90</span>,<span class="number">60</span>]])  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们的数组是：&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(a) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;调用argmax()函数：&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(np.argmax(a)) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;展开数组：&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(a.flatten()) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;沿轴0的最大值索引：&#x27;</span>) </span><br><span class="line">maxindex = np.argmax(a, axis = <span class="number">0</span>)  </span><br><span class="line"><span class="built_in">print</span>(maxindex) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;沿轴1的最大值索引：&#x27;</span>) </span><br><span class="line">maxindex = np.argmax(a, axis = <span class="number">1</span>)  </span><br><span class="line"><span class="built_in">print</span>(maxindex) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;调用argmin()函数：&#x27;</span>) </span><br><span class="line">minindex = np.argmin(a)  </span><br><span class="line"><span class="built_in">print</span>(minindex) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;展开数组中的最小值：&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(a.flatten()[minindex]) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;沿轴0的最小值索引：&#x27;</span>) </span><br><span class="line">minindex = np.argmin(a, axis = <span class="number">0</span>)  </span><br><span class="line"><span class="built_in">print</span>(minindex) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;沿轴1的最小值索引：&#x27;</span>) </span><br><span class="line">minindex = np.argmin(a, axis = <span class="number">1</span>)  </span><br><span class="line"><span class="built_in">print</span>(minindex)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">30</span> <span class="number">40</span> <span class="number">70</span>]</span><br><span class="line"> [<span class="number">80</span> <span class="number">20</span> <span class="number">10</span>]</span><br><span class="line"> [<span class="number">50</span> <span class="number">90</span> <span class="number">60</span>]]</span><br><span class="line"></span><br><span class="line">调用argmax()函数：</span><br><span class="line"><span class="number">7</span></span><br><span class="line"></span><br><span class="line">展开数组：</span><br><span class="line">[<span class="number">30</span> <span class="number">40</span> <span class="number">70</span> <span class="number">80</span> <span class="number">20</span> <span class="number">10</span> <span class="number">50</span> <span class="number">90</span> <span class="number">60</span>]</span><br><span class="line"></span><br><span class="line">沿轴<span class="number">0</span>的最大值索引：</span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">沿轴<span class="number">1</span>的最大值索引：</span><br><span class="line">[<span class="number">2</span> <span class="number">0</span> <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">调用argmin()函数：</span><br><span class="line"><span class="number">5</span></span><br><span class="line"></span><br><span class="line">展开数组中的最小值：</span><br><span class="line"><span class="number">10</span></span><br><span class="line"></span><br><span class="line">沿轴<span class="number">0</span>的最小值索引：</span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">沿轴<span class="number">1</span>的最小值索引：</span><br><span class="line">[<span class="number">0</span> <span class="number">2</span> <span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<p><code>numpy.nonzero()</code>函数返回输入数组中非零元素的索引。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">30</span>,<span class="number">40</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">20</span>,<span class="number">10</span>],[<span class="number">50</span>,<span class="number">0</span>,<span class="number">60</span>]])  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们的数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;调用nonzero()函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.nonzero(a))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">30</span> <span class="number">40</span>  <span class="number">0</span>]</span><br><span class="line"> [ <span class="number">0</span> <span class="number">20</span> <span class="number">10</span>]</span><br><span class="line"> [<span class="number">50</span>  <span class="number">0</span> <span class="number">60</span>]]</span><br><span class="line"></span><br><span class="line">调用nonzero()函数：</span><br><span class="line">(array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>], dtype=int64), array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">2</span>], dtype=int64))</span><br></pre></td></tr></table></figure>

<p><code>numpy.where()</code>函数返回输入数组中满足给定条件的元素的索引。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">x = np.arange(<span class="number">9.</span>).reshape(<span class="number">3</span>, <span class="number">3</span>)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们的数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;大于3的元素的索引：&#x27;</span>)</span><br><span class="line">y = np.where(x &gt; <span class="number">3</span>)  </span><br><span class="line"><span class="built_in">print</span>(y)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;使用这些索引来获取满足条件的元素：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(x[y])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">0.</span> <span class="number">1.</span> <span class="number">2.</span>]</span><br><span class="line"> [<span class="number">3.</span> <span class="number">4.</span> <span class="number">5.</span>]</span><br><span class="line"> [<span class="number">6.</span> <span class="number">7.</span> <span class="number">8.</span>]]</span><br><span class="line">大于<span class="number">3</span>的元素的索引：</span><br><span class="line">(array([<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>], dtype=int64), array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>], dtype=int64))</span><br><span class="line">使用这些索引来获取满足条件的元素：</span><br><span class="line">[<span class="number">4.</span> <span class="number">5.</span> <span class="number">6.</span> <span class="number">7.</span> <span class="number">8.</span>]</span><br></pre></td></tr></table></figure>

<p><code>numpy.extract()</code>函数根据某个条件从数组中抽取元素，返回满条件的元素。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">x = np.arange(<span class="number">9.</span>).reshape(<span class="number">3</span>, <span class="number">3</span>)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们的数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"><span class="comment"># 定义条件,选择偶数元素</span></span><br><span class="line">condition = np.mod(x,<span class="number">2</span>) == <span class="number">0</span>  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;按元素的条件值：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(condition)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;使用条件提取元素：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(np.extract(condition, x))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">0.</span> <span class="number">1.</span> <span class="number">2.</span>]</span><br><span class="line"> [<span class="number">3.</span> <span class="number">4.</span> <span class="number">5.</span>]</span><br><span class="line"> [<span class="number">6.</span> <span class="number">7.</span> <span class="number">8.</span>]]</span><br><span class="line">按元素的条件值：</span><br><span class="line">[[<span class="literal">True</span> <span class="literal">False</span> <span class="literal">True</span>]</span><br><span class="line"> [<span class="literal">False</span> <span class="literal">True</span> <span class="literal">False</span>]</span><br><span class="line"> [<span class="literal">True</span> <span class="literal">False</span> <span class="literal">True</span>]]</span><br><span class="line">使用条件提取元素：</span><br><span class="line">[<span class="number">0.</span> <span class="number">2.</span> <span class="number">4.</span> <span class="number">6.</span> <span class="number">8.</span>]</span><br></pre></td></tr></table></figure>

<h3 id="👀NumPy字节交换"><a href="#👀NumPy字节交换" class="headerlink" title="👀NumPy字节交换"></a>👀NumPy字节交换</h3><p>在几乎所有的机器上，多字节对象都被存储为连续的字节序列。字节顺序，是跨越多字节的程序对象的存储规则。</p>
<ul>
<li><strong>大端模式：</strong>指数据的高字节保存在内存的低地址中，而数据的低字节保存在内存的高地址中，这样的存储模式有点儿类似于把数据当作字符串顺序处理：地址由小向大增加，而数据从高位往低位放；这和我们的阅读习惯一致。</li>
<li><strong>小端模式：</strong>指数据的高字节保存在内存的高地址中，而数据的低字节保存在内存的低地址中，这种存储模式将地址的高低和数据位权有效地结合起来，高地址部分权值高，低地址部分权值低。</li>
</ul>
<p><code>numpy.ndarray.byteswap()</code>函数将<code>ndarray</code>中每个元素中的字节进行大小端转换。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">1</span>, <span class="number">256</span>, <span class="number">8755</span>], dtype = np.int16)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们的数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;以十六进制表示内存中的数据：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">map</span>(<span class="built_in">hex</span>,a))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">hex</span>, a)))</span><br><span class="line"><span class="comment"># byteswap()函数通过传入true来原地交换 </span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;调用 byteswap() 函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a.byteswap(<span class="literal">True</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;十六进制形式：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="built_in">map</span>(<span class="built_in">hex</span>,a))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">hex</span>, a)))</span><br><span class="line"><span class="comment"># 我们可以看到字节已经交换了</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">我们的数组是：</span><br><span class="line">[   <span class="number">1</span>  <span class="number">256</span> <span class="number">8755</span>]</span><br><span class="line">以十六进制表示内存中的数据：</span><br><span class="line">&lt;<span class="built_in">map</span> <span class="built_in">object</span> at <span class="number">0x00000229347A3D88</span>&gt;</span><br><span class="line">[<span class="string">&#x27;0x1&#x27;</span>, <span class="string">&#x27;0x100&#x27;</span>, <span class="string">&#x27;0x2233&#x27;</span>]</span><br><span class="line">调用 byteswap() 函数：</span><br><span class="line">[  <span class="number">256</span>     <span class="number">1</span> <span class="number">13090</span>]</span><br><span class="line">十六进制形式：</span><br><span class="line">&lt;<span class="built_in">map</span> <span class="built_in">object</span> at <span class="number">0x00000229347A3608</span>&gt;</span><br><span class="line">[<span class="string">&#x27;0x100&#x27;</span>, <span class="string">&#x27;0x1&#x27;</span>, <span class="string">&#x27;0x3322&#x27;</span>]</span><br></pre></td></tr></table></figure>

<h3 id="👀NumPy副本和视图"><a href="#👀NumPy副本和视图" class="headerlink" title="👀NumPy副本和视图"></a>👀NumPy副本和视图</h3><p>副本是一个数据的完整的拷贝，如果我们对副本进行修改，它不会影响到原始数据，物理内存不在同一位置。</p>
<p>视图是数据的一个别称或引用，通过该别称或引用亦便可访问、操作原有数据，但原有数据不会产生拷贝。如果我们对视图进行修改，它会影响到原始数据，物理内存在同一位置。</p>
<p><strong>副本一般发生在：</strong></p>
<ul>
<li>Python序列的切片操作，调用deepCopy()函数。</li>
<li>调用ndarray的copy()函数产生一个副本。</li>
</ul>
<p><strong>视图一般发生在：</strong></p>
<ul>
<li>numpy的切片操作返回原数据的视图。</li>
<li>调用ndarray的view()函数产生一个视图。</li>
</ul>
<p>（1）无复制</p>
<p>简单的赋值不会创建数组对象的副本。 相反，它使用<strong>原始数组的相同</strong><code>id()</code>来访问它。 <code>id()</code>返回<code>Python</code>对象的通用标识符，类似于C中的指针。此外，一个数组的任何变化都反映在另一个数组上。 例如，一个数组的形状改变也会改变另一个数组的形状。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">6</span>)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们的数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;调用id()函数：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(a))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;a赋值给b：&#x27;</span>)</span><br><span class="line">b = a </span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;b拥有相同id()：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(b))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;修改b的形状：&#x27;</span>)</span><br><span class="line">b.shape = <span class="number">3</span>,<span class="number">2</span>  </span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;a的形状也修改了：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">我们的数组是：</span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line">调用<span class="built_in">id</span>()函数：</span><br><span class="line"><span class="number">2375996889168</span></span><br><span class="line">a赋值给b：</span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line">b拥有相同<span class="built_in">id</span>()：</span><br><span class="line"><span class="number">2375996889168</span></span><br><span class="line">修改 b 的形状：</span><br><span class="line">[[<span class="number">0</span> <span class="number">1</span>]</span><br><span class="line"> [<span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span>]]</span><br><span class="line">a的形状也修改了：</span><br><span class="line">[[<span class="number">0</span> <span class="number">1</span>]</span><br><span class="line"> [<span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span>]]</span><br></pre></td></tr></table></figure>

<p>（2）视图或浅拷贝</p>
<p><code>ndarray.view()</code>方会创建一个新的数组对象，该方法创建的新数组的维数变化不会改变原始数据的维数。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="comment"># 最开始 a 是个 3X2 的数组</span></span><br><span class="line">a = np.arange(<span class="number">6</span>).reshape(<span class="number">3</span>,<span class="number">2</span>)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;数组a：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;创建a的视图：&#x27;</span>)</span><br><span class="line">b = a.view()  </span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;两个数组的id()不同：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;a的id()：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(a))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;b的id()：&#x27;</span> )</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(b))</span><br><span class="line"><span class="comment"># 修改b的形状，并不会修改a</span></span><br><span class="line">b.shape =  <span class="number">2</span>,<span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;b的形状：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;a的形状：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">数组a：</span><br><span class="line">[[<span class="number">0</span> <span class="number">1</span>]</span><br><span class="line"> [<span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span>]]</span><br><span class="line">创建a的视图：</span><br><span class="line">[[<span class="number">0</span> <span class="number">1</span>]</span><br><span class="line"> [<span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span>]]</span><br><span class="line">两个数组的<span class="built_in">id</span>()不同：</span><br><span class="line">a的<span class="built_in">id</span>()：</span><br><span class="line"><span class="number">2375996990448</span></span><br><span class="line">b的<span class="built_in">id</span>()：</span><br><span class="line"><span class="number">2375996617872</span></span><br><span class="line">b的形状：</span><br><span class="line">[[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]]</span><br><span class="line">a的形状：</span><br><span class="line">[[<span class="number">0</span> <span class="number">1</span>]</span><br><span class="line"> [<span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span>]]</span><br></pre></td></tr></table></figure>

<p>使用切片创建视图修改数据会影响到原始数组，变量a，b都是arr的一部分视图，对视图的修改会直接反映到原数据中。但是我们观察a，b的id，他们是不同的，也就是说，视图虽然指向原数据，但是他们和赋值引用还是有区别的。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">arr = np.arange(<span class="number">12</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们的数组：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(arr)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;创建切片：&#x27;</span>)</span><br><span class="line">a=arr[<span class="number">3</span>:]</span><br><span class="line">b=arr[<span class="number">3</span>:]</span><br><span class="line">a[<span class="number">1</span>]=<span class="number">123</span></span><br><span class="line">b[<span class="number">2</span>]=<span class="number">234</span></span><br><span class="line"><span class="built_in">print</span>(arr)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(a),<span class="built_in">id</span>(b),<span class="built_in">id</span>(arr[<span class="number">3</span>:]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">我们的数组：</span><br><span class="line">[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]</span><br><span class="line">创建切片：</span><br><span class="line">[  <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span> <span class="number">123</span> <span class="number">234</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span>]</span><br><span class="line"><span class="number">2375996635536</span> <span class="number">2375996634816</span> <span class="number">2375996921616</span></span><br></pre></td></tr></table></figure>

<p>（3）副本或深拷贝</p>
<p><code>ndarray.copy()</code>函数创建一个副本。 对副本数据进行修改，不会影响到原始数据，它们物理内存不在同一位置。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">10</span>,<span class="number">10</span>],  [<span class="number">2</span>,<span class="number">3</span>],  [<span class="number">4</span>,<span class="number">5</span>]])  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;数组a：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;创建a的深层副本：&#x27;</span>)</span><br><span class="line">b = a.copy()  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;数组 b：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># b与a不共享任何内容  </span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我们能够写入b来写入a吗？&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(b <span class="keyword">is</span> a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;修改b的内容：&#x27;</span>)</span><br><span class="line">b[<span class="number">0</span>,<span class="number">0</span>] = <span class="number">100</span>  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;修改后的数组b：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;a保持不变：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">数组a：</span><br><span class="line">[[<span class="number">10</span> <span class="number">10</span>]</span><br><span class="line"> [ <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line"> [ <span class="number">4</span>  <span class="number">5</span>]]</span><br><span class="line">创建a的深层副本：</span><br><span class="line">数组 b：</span><br><span class="line">[[<span class="number">10</span> <span class="number">10</span>]</span><br><span class="line"> [ <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line"> [ <span class="number">4</span>  <span class="number">5</span>]]</span><br><span class="line">我们能够写入b来写入a吗？</span><br><span class="line"><span class="literal">False</span></span><br><span class="line">修改b的内容：</span><br><span class="line">修改后的数组b：</span><br><span class="line">[[<span class="number">100</span>  <span class="number">10</span>]</span><br><span class="line"> [  <span class="number">2</span>   <span class="number">3</span>]</span><br><span class="line"> [  <span class="number">4</span>   <span class="number">5</span>]]</span><br><span class="line">a保持不变：</span><br><span class="line">[[<span class="number">10</span> <span class="number">10</span>]</span><br><span class="line"> [ <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line"> [ <span class="number">4</span>  <span class="number">5</span>]]</span><br></pre></td></tr></table></figure>

<h3 id="👀NumPy矩阵库（Matrix）"><a href="#👀NumPy矩阵库（Matrix）" class="headerlink" title="👀NumPy矩阵库（Matrix）"></a>👀NumPy矩阵库（Matrix）</h3><p><code>NumPy</code>中包含了一个矩阵库<code>numpy.matlib</code>，该模块中的函数返回一个矩阵，而不是<code>ndarray</code>对象。一个<code>m×n</code>的矩阵是一个由m行（row）n列（column）元素排列成的矩形阵列。矩阵里的元素可以是数字、符号或数学式。</p>
<p>（1）转置矩阵</p>
<p><code>NumPy</code>中除了可以使用<code>numpy.transpose</code>函数来对换数组的维度，还可以使用 <strong>T</strong> 属性。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;原数组：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;转置数组：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a.T)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">原数组：</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line"> [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]</span><br><span class="line"> [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]</span><br><span class="line"></span><br><span class="line">转置数组：</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">4</span>  <span class="number">8</span>]</span><br><span class="line"> [ <span class="number">1</span>  <span class="number">5</span>  <span class="number">9</span>]</span><br><span class="line"> [ <span class="number">2</span>  <span class="number">6</span> <span class="number">10</span>]</span><br><span class="line"> [ <span class="number">3</span>  <span class="number">7</span> <span class="number">11</span>]]</span><br></pre></td></tr></table></figure>

<p>（2）matlib.empty()</p>
<p><code>matlib.empty()</code>函数返回一个新的矩阵，语法格式为：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numpy.matlib.empty(shape, dtype, order)</span><br><span class="line">参数说明：</span><br><span class="line">    shape: 定义新矩阵形状的整数或整数元组</span><br><span class="line">    Dtype: 可选，数据类型</span><br><span class="line">    order: C（行序优先） 或者 F（列序优先）</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(np.matlib.empty((<span class="number">2</span>,<span class="number">2</span>)))</span><br><span class="line"><span class="comment"># 填充为随机数据</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[<span class="number">1.36008890e-311</span> <span class="number">1.69168361e-301</span>]</span><br><span class="line"> [<span class="number">3.42821614e-210</span> <span class="number">7.46699190e-301</span>]]</span><br></pre></td></tr></table></figure>

<p>（3）numpy.matlib.zeros()</p>
<p><code>numpy.matlib.zeros()</code>函数创建一个以0填充的矩阵。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(np.matlib.zeros((<span class="number">2</span>,<span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[<span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span>]]</span><br></pre></td></tr></table></figure>

<p>（4）numpy.matlib.ones()</p>
<p><code>numpy.matlib.ones()</code>函数创建一个以1填充的矩阵。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(np.matlib.ones((<span class="number">2</span>,<span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[<span class="number">1.</span> <span class="number">1.</span>]</span><br><span class="line"> [<span class="number">1.</span> <span class="number">1.</span>]]</span><br></pre></td></tr></table></figure>

<p>（5）numpy.matlib.eye()</p>
<p><code>numpy.matlib.eye()</code>函数返回一个矩阵，对角线元素为1，其他位置为零。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numpy.matlib.eye(n, M,k, dtype)</span><br><span class="line">参数说明：</span><br><span class="line">    n: 返回矩阵的行数</span><br><span class="line">    M: 返回矩阵的列数，默认为n</span><br><span class="line">    k: 对角线的索引</span><br><span class="line">    dtype: 数据类型</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(np.matlib.eye(n=<span class="number">3</span>, M=<span class="number">4</span>, k=<span class="number">0</span>, dtype=<span class="built_in">float</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[<span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span>]]</span><br></pre></td></tr></table></figure>

<p>（6）numpy.matlib.identity()</p>
<p><code>numpy.matlib.identity()</code>函数返回给定大小的单位矩阵。单位矩阵是个方阵，从左上角到右下角的对角线（称为主对角线）上的元素均为1，除此以外全都为0。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="comment"># 大小为 5，类型位浮点型</span></span><br><span class="line"><span class="built_in">print</span>(np.matlib.identity(<span class="number">5</span>, dtype=<span class="built_in">float</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[<span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span>]]</span><br></pre></td></tr></table></figure>

<p>（7）numpy.matlib.rand()</p>
<p><code>numpy.matlib.rand()</code>函数创建一个给定大小的矩阵，数据是随机填充的。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(np.matlib.rand(<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[<span class="number">0.85907694</span> <span class="number">0.10033233</span> <span class="number">0.90102019</span>]</span><br><span class="line"> [<span class="number">0.60724393</span> <span class="number">0.67443377</span> <span class="number">0.19654135</span>]</span><br><span class="line"> [<span class="number">0.1626346</span>  <span class="number">0.4910893</span>  <span class="number">0.11768052</span>]]</span><br></pre></td></tr></table></figure>

<p>矩阵总是二维的，而ndarray是一个n维数组。 两个对象都是可互换的。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np  </span><br><span class="line"> </span><br><span class="line">i = np.matrix(<span class="string">&#x27;1,2;3,4&#x27;</span>)  </span><br><span class="line"><span class="built_in">print</span>(i)</span><br><span class="line">j = np.asarray(i)  </span><br><span class="line"><span class="built_in">print</span>(j)</span><br><span class="line">k = np.asmatrix(j)  </span><br><span class="line"><span class="built_in">print</span>(k)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span>]]</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span>]]</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span>]]</span><br></pre></td></tr></table></figure>

<h3 id="👀NumPy线性代数"><a href="#👀NumPy线性代数" class="headerlink" title="👀NumPy线性代数"></a>👀NumPy线性代数</h3><p><code>NumPy</code>提供了线性代数函数库<strong>linalg</strong>，该库包含了线性代数所需的所有功能，可以看看下面的说明：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>dot</code></td>
<td>两个数组的点积，即元素对应相乘</td>
</tr>
<tr>
<td><code>vdot</code></td>
<td>两个向量的点积</td>
</tr>
<tr>
<td><code>inner</code></td>
<td>两个数组的内积</td>
</tr>
<tr>
<td><code>matmul</code></td>
<td>两个数组的矩阵积</td>
</tr>
<tr>
<td><code>determinant</code></td>
<td>数组的行列式</td>
</tr>
<tr>
<td><code>solve</code></td>
<td>求解线性矩阵方程</td>
</tr>
<tr>
<td><code>inv</code></td>
<td>计算矩阵的乘法逆矩阵</td>
</tr>
</tbody></table>
<h3 id="👀NumPy-IO"><a href="#👀NumPy-IO" class="headerlink" title="👀NumPy IO"></a>👀NumPy IO</h3><p><code>Numpy</code>可以读写磁盘上的文本数据或二进制数据。</p>
<p><code>NumPy</code>为<code>ndarray</code>对象引入了一个简单的文件格式：<code>npy</code>。</p>
<p><code>npy</code>文件用于存储重建<code>ndarray</code>所需的数据、图形、dtype和其他信息。</p>
<p>常用的<code>IO</code>函数有：</p>
<ul>
<li><code>load()</code>和<code>save()</code>函数是读写文件数组数据的两个主要函数，默认情况下，数组是以未压缩的原始二进制格式保存在扩展名为<code>.npy</code>的文件中。</li>
<li><code>savez()</code>函数用于将多个数组写入文件，默认情况，数组是以未压缩的原始二进制格式保存在扩展名为<code>.npz</code>的文件中。</li>
<li><code>loadtxt()</code>和<code>savetxt()</code>函数处理正常的文本文件(<code>.txt</code>等)</li>
</ul>
<p>（1）numpy.save()</p>
<p><code>numpy.save()</code>函数将数组保存到以<code>.npy</code>为扩展名的文件中。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numpy.save(file, arr, allow_pickle=<span class="literal">True</span>, fix_imports=<span class="literal">True</span>)</span><br><span class="line">参数说明：</span><br><span class="line">    file：要保存的文件，扩展名为.npy，如果文件路径末尾没有扩展名.npy，该扩展名会被自动加上。</span><br><span class="line">    arr: 要保存的数组</span><br><span class="line">    allow_pickle: 可选，布尔值，允许使用Python pickles保存对象数组，Python中的pickle用于在保存到磁盘文件或从磁盘文件读取之前，对对象进行序列化和反序列化。</span><br><span class="line">    fix_imports: 可选，为了方便Pyhton2中读取Python3保存的数据。</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]) </span><br><span class="line"><span class="comment"># 保存到outfile.npy文件上</span></span><br><span class="line">np.save(<span class="string">&#x27;outfile.npy&#x27;</span>,a) </span><br><span class="line"><span class="comment"># 保存到outfile2.npy文件上，如果文件路径末尾没有扩展名.npy，该扩展名会被自动加上</span></span><br><span class="line">np.save(<span class="string">&#x27;outfile2&#x27;</span>,a)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以看出文件是乱码的，因为它们是Numpy专用的二进制格式后的数据。</span></span><br><span class="line"><span class="comment"># 我们可以使用load()函数来读取数据就可以正常显示了</span></span><br><span class="line">b = np.load(<span class="string">&#x27;outfile.npy&#x27;</span>)  </span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br></pre></td></tr></table></figure>

<p>（2）np.savez()</p>
<p><code>numpy.savez()</code>函数将多个数组保存到以<code>.npz</code>为扩展名的文件中。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numpy.savez(file, *args, **kwds)</span><br><span class="line">参数说明：</span><br><span class="line">    file：要保存的文件，扩展名为.npz，如果文件路径末尾没有扩展名.npz，该扩展名会被自动加上。</span><br><span class="line">	args: 要保存的数组，可以使用关键字参数为数组起一个名字，非关键字参数传递的数组会自动起名为arr_0, arr_1, …　。</span><br><span class="line">    kwds: 要保存的数组使用关键字名称。</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">b = np.arange(<span class="number">0</span>, <span class="number">1.0</span>, <span class="number">0.1</span>)</span><br><span class="line">c = np.sin(b)</span><br><span class="line"><span class="comment"># c使用了关键字参数sin_array</span></span><br><span class="line">np.savez(<span class="string">&quot;runoob.npz&quot;</span>, a, b, sin_array = c)</span><br><span class="line">r = np.load(<span class="string">&quot;runoob.npz&quot;</span>)  </span><br><span class="line"><span class="built_in">print</span>(r.files) <span class="comment"># 查看各个数组名称</span></span><br><span class="line"><span class="built_in">print</span>(r[<span class="string">&quot;arr_0&quot;</span>]) <span class="comment"># 数组 a</span></span><br><span class="line"><span class="built_in">print</span>(r[<span class="string">&quot;arr_1&quot;</span>]) <span class="comment"># 数组 b</span></span><br><span class="line"><span class="built_in">print</span>(r[<span class="string">&quot;sin_array&quot;</span>]) <span class="comment"># 数组 c</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="string">&#x27;sin_array&#x27;</span>, <span class="string">&#x27;arr_0&#x27;</span>, <span class="string">&#x27;arr_1&#x27;</span>]</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]]</span><br><span class="line">[<span class="number">0.</span>  <span class="number">0.1</span> <span class="number">0.2</span> <span class="number">0.3</span> <span class="number">0.4</span> <span class="number">0.5</span> <span class="number">0.6</span> <span class="number">0.7</span> <span class="number">0.8</span> <span class="number">0.9</span>]</span><br><span class="line">[<span class="number">0.</span>         <span class="number">0.09983342</span> <span class="number">0.19866933</span> <span class="number">0.29552021</span> <span class="number">0.38941834</span> <span class="number">0.47942554</span></span><br><span class="line"> <span class="number">0.56464247</span> <span class="number">0.64421769</span> <span class="number">0.71735609</span> <span class="number">0.78332691</span>]</span><br></pre></td></tr></table></figure>

<p>（3）np.savetxt()</p>
<p><code>savetxt()</code>函数是以简单的文本文件格式存储数据，对应的使用<code>loadtxt()</code>函数来获取数据。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.loadtxt(FILENAME, dtype=<span class="built_in">int</span>, delimiter=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">np.savetxt(FILENAME, a, fmt=<span class="string">&quot;%d&quot;</span>, delimiter=<span class="string">&quot;,&quot;</span>)</span><br><span class="line"><span class="comment"># 参数delimiter可以指定各种分隔符、针对特定列的转换器函数、需要跳过的行数等。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]) </span><br><span class="line">np.savetxt(<span class="string">&#x27;out.txt&#x27;</span>,a) </span><br><span class="line">b = np.loadtxt(<span class="string">&#x27;out.txt&#x27;</span>)  </span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[<span class="number">1.</span> <span class="number">2.</span> <span class="number">3.</span> <span class="number">4.</span> <span class="number">5.</span>]</span><br></pre></td></tr></table></figure>

<p>使用delimiter参数：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"></span><br><span class="line"><span class="comment"># arr.shape    # (a,b)</span></span><br><span class="line"><span class="comment"># arr.reshape(m,-1) # 改变维度为m行、d列（-1表示列数自动计算，d=a*b/m）</span></span><br><span class="line"><span class="comment"># arr.reshape(-1,m) # 改变维度为d行、m列（-1表示行数自动计算，d=a*b/m）</span></span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">10</span>,<span class="number">0.5</span>).reshape(<span class="number">4</span>,-<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">np.savetxt(<span class="string">&quot;out.txt&quot;</span>,a,fmt=<span class="string">&quot;%d&quot;</span>,delimiter=<span class="string">&quot;,&quot;</span>) <span class="comment"># 改为保存为整数，以逗号分隔</span></span><br><span class="line">b = np.loadtxt(<span class="string">&quot;out.txt&quot;</span>,delimiter=<span class="string">&quot;,&quot;</span>) <span class="comment"># load 时也要指定为逗号分隔</span></span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line">[[<span class="number">0.</span>  <span class="number">0.5</span> <span class="number">1.</span>  <span class="number">1.5</span> <span class="number">2.</span> ]</span><br><span class="line"> [<span class="number">2.5</span> <span class="number">3.</span>  <span class="number">3.5</span> <span class="number">4.</span>  <span class="number">4.5</span>]</span><br><span class="line"> [<span class="number">5.</span>  <span class="number">5.5</span> <span class="number">6.</span>  <span class="number">6.5</span> <span class="number">7.</span> ]</span><br><span class="line"> [<span class="number">7.5</span> <span class="number">8.</span>  <span class="number">8.5</span> <span class="number">9.</span>  <span class="number">9.5</span>]]</span><br><span class="line">[[<span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">2.</span>]</span><br><span class="line"> [<span class="number">2.</span> <span class="number">3.</span> <span class="number">3.</span> <span class="number">4.</span> <span class="number">4.</span>]</span><br><span class="line"> [<span class="number">5.</span> <span class="number">5.</span> <span class="number">6.</span> <span class="number">6.</span> <span class="number">7.</span>]</span><br><span class="line"> [<span class="number">7.</span> <span class="number">8.</span> <span class="number">8.</span> <span class="number">9.</span> <span class="number">9.</span>]]</span><br></pre></td></tr></table></figure>

<h3 id="👀NumPy-Matplotlib"><a href="#👀NumPy-Matplotlib" class="headerlink" title="👀NumPy Matplotlib"></a>👀NumPy Matplotlib</h3><p><code>Matplotlib</code>是<code>Python</code>的绘图库。 它可与<code>NumPy</code>一起使用，提供了一种有效的<code>MatLab</code>开源替代方案。它也可以和图形工具包一起使用，如<code>PyQt</code>和<code>wxPython</code>。</p>
<p>参考资料：菜鸟教程</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://heartlovelife.github.io">Xiaotangsmiles</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://heartlovelife.github.io/2023/02/13/Python-Numpy/">https://heartlovelife.github.io/2023/02/13/Python-Numpy/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://heartlovelife.github.io" target="_blank">江湖是你画中亦是你</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97/">科学计算</a><a class="post-meta__tags" href="/tags/Numpy/">Numpy</a><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a></div><div class="post_share"><div class="social-share" data-image="https://s2.loli.net/2023/02/19/uvEtzfpj8P9TANy.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/gh/overtrue/share.js@master/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/loading1.gif" data-original="/img/wechat.jpg" alt="wechat(微信)"/></a><div class="post-qr-code-desc">wechat(微信)</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/loading1.gif" data-original="/img/alipay.jpg" alt="alipay(支付宝)"/></a><div class="post-qr-code-desc">alipay(支付宝)</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/03/07/Python-Pandas/"><img class="prev-cover" src="/img/loading1.gif" data-original="https://s2.loli.net/2023/02/19/BiQTEHaJbYwIvhd.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Python之Pandas详解</div></div></a></div><div class="next-post pull-right"><a href="/2022/12/17/Matlab-Basic01/"><img class="next-cover" src="/img/loading1.gif" data-original="https://s2.loli.net/2022/12/17/2RZMExnlA8C6vHS.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Matlab语法基础（01）</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/03/27/Python-Pandas-RWF/" title="Python之Pandas读写文件及索引操作"><img class="cover" src="/img/loading1.gif" data-original="https://s2.loli.net/2023/02/19/BiQTEHaJbYwIvhd.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-27</div><div class="title">Python之Pandas读写文件及索引操作</div></div></a></div><div><a href="/2023/03/07/Python-Pandas/" title="Python之Pandas详解"><img class="cover" src="/img/loading1.gif" data-original="https://s2.loli.net/2023/02/19/BiQTEHaJbYwIvhd.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-07</div><div class="title">Python之Pandas详解</div></div></a></div><div><a href="/2022/12/17/Matlab-Basic01/" title="Matlab语法基础（01）"><img class="cover" src="/img/loading1.gif" data-original="https://s2.loli.net/2022/12/17/2RZMExnlA8C6vHS.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-12-17</div><div class="title">Matlab语法基础（01）</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/loading1.gif" data-original="/img/touxiang.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Xiaotangsmiles</div><div class="author-info__description">我们总以为来日方长，却忘了世事无常</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">21</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">21</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/HeartLoveLife"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/HeartLoveLife" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://blog.csdn.net/twg666" target="_blank" title="CSDN"><i class="fa fa-book-open"></i></a><a class="social-icon" href="tencent://AddContact/?fromId=45&amp;fromSubId=1&amp;subcmd=all&amp;uin=491037927&amp;website=www.oicqzone.com" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="mailto:xiaotangsmiles@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">我有我自己的太阳、月亮和星星，我有一个完全属于我自己的小世界。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9B%84ndarray%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.</span> <span class="toc-text">⛄ndarray对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%80ndarray%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">1.1.</span> <span class="toc-text">👀ndarray的创建</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%91%81numpy-array-%E5%87%BD%E6%95%B0%E5%88%9B%E5%BB%BA"><span class="toc-number">1.1.1.</span> <span class="toc-text">👁numpy.array()函数创建</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%91%81%E7%89%B9%E6%AE%8A%E5%87%BD%E6%95%B0%E5%88%9B%E5%BB%BA"><span class="toc-number">1.1.2.</span> <span class="toc-text">👁特殊函数创建</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%91%81NumPy%E4%BB%8E%E5%B7%B2%E6%9C%89%E7%9A%84%E6%95%B0%E7%BB%84%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84"><span class="toc-number">1.1.3.</span> <span class="toc-text">👁NumPy从已有的数组创建数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%91%81NumPy%E4%BB%8E%E6%95%B0%E5%80%BC%E8%8C%83%E5%9B%B4%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84"><span class="toc-number">1.1.4.</span> <span class="toc-text">👁NumPy从数值范围创建数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%91%81%E7%BB%93%E6%9E%84%E6%95%B0%E7%BB%84"><span class="toc-number">1.1.5.</span> <span class="toc-text">👁结构数组</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%80NumPy%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%AF%B9%E8%B1%A1-dtype"><span class="toc-number">1.2.</span> <span class="toc-text">👀NumPy数据类型对象(dtype)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%80NumPy%E6%95%B0%E7%BB%84%E5%B1%9E%E6%80%A7"><span class="toc-number">1.3.</span> <span class="toc-text">👀NumPy数组属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%80NumPy%E5%88%87%E7%89%87%E5%92%8C%E7%B4%A2%E5%BC%95"><span class="toc-number">1.4.</span> <span class="toc-text">👀NumPy切片和索引</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9B%84ufunc%E5%87%BD%E6%95%B0"><span class="toc-number">2.</span> <span class="toc-text">⛄ufunc函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%80NumPy%E5%B9%BF%E6%92%AD%EF%BC%88Broadcast%EF%BC%89"><span class="toc-number">2.1.</span> <span class="toc-text">👀NumPy广播（Broadcast）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%80NumPy%E8%BF%AD%E4%BB%A3%E6%95%B0%E7%BB%84"><span class="toc-number">2.2.</span> <span class="toc-text">👀NumPy迭代数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%80NumPy%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C"><span class="toc-number">2.3.</span> <span class="toc-text">👀NumPy数组操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%91%81%E4%BF%AE%E6%94%B9%E6%95%B0%E7%BB%84%E5%BD%A2%E7%8A%B6"><span class="toc-number">2.3.1.</span> <span class="toc-text">👁修改数组形状</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%91%81%E7%BF%BB%E8%BD%AC%E6%95%B0%E7%BB%84"><span class="toc-number">2.3.2.</span> <span class="toc-text">👁翻转数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%91%81%E4%BF%AE%E6%94%B9%E6%95%B0%E7%BB%84%E7%BB%B4%E5%BA%A6"><span class="toc-number">2.3.3.</span> <span class="toc-text">👁修改数组维度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%91%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E7%BB%84"><span class="toc-number">2.3.4.</span> <span class="toc-text">👁连接数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%91%81%E5%88%86%E5%89%B2%E6%95%B0%E7%BB%84"><span class="toc-number">2.3.5.</span> <span class="toc-text">👁分割数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%91%81%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E7%9A%84%E6%B7%BB%E5%8A%A0%E4%B8%8E%E5%88%A0%E9%99%A4"><span class="toc-number">2.3.6.</span> <span class="toc-text">👁数组元素的添加与删除</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%80NumPy%E4%BD%8D%E8%BF%90%E7%AE%97"><span class="toc-number">2.4.</span> <span class="toc-text">👀NumPy位运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%80NumPy%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0"><span class="toc-number">2.5.</span> <span class="toc-text">👀NumPy字符串函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%80NumPy%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0"><span class="toc-number">2.6.</span> <span class="toc-text">👀NumPy数学函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%80NumPy%E7%AE%97%E6%9C%AF%E5%87%BD%E6%95%B0"><span class="toc-number">2.7.</span> <span class="toc-text">👀NumPy算术函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%80NumPy%E7%BB%9F%E8%AE%A1%E5%87%BD%E6%95%B0"><span class="toc-number">2.8.</span> <span class="toc-text">👀NumPy统计函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%80NumPy%E6%8E%92%E5%BA%8F%E3%80%81%E6%9D%A1%E4%BB%B6%E7%AD%9B%E9%80%89%E5%87%BD%E6%95%B0"><span class="toc-number">2.9.</span> <span class="toc-text">👀NumPy排序、条件筛选函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%80NumPy%E5%AD%97%E8%8A%82%E4%BA%A4%E6%8D%A2"><span class="toc-number">2.10.</span> <span class="toc-text">👀NumPy字节交换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%80NumPy%E5%89%AF%E6%9C%AC%E5%92%8C%E8%A7%86%E5%9B%BE"><span class="toc-number">2.11.</span> <span class="toc-text">👀NumPy副本和视图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%80NumPy%E7%9F%A9%E9%98%B5%E5%BA%93%EF%BC%88Matrix%EF%BC%89"><span class="toc-number">2.12.</span> <span class="toc-text">👀NumPy矩阵库（Matrix）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%80NumPy%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0"><span class="toc-number">2.13.</span> <span class="toc-text">👀NumPy线性代数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%80NumPy-IO"><span class="toc-number">2.14.</span> <span class="toc-text">👀NumPy IO</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%91%80NumPy-Matplotlib"><span class="toc-number">2.15.</span> <span class="toc-text">👀NumPy Matplotlib</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/01/20/RS-LST-Method/" title="辐射传输基础理论详解与LST反演方法"><img src="/img/loading1.gif" data-original="https://s2.loli.net/2024/05/05/SHmUYgArEMzfLph.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="辐射传输基础理论详解与LST反演方法"/></a><div class="content"><a class="title" href="/2024/01/20/RS-LST-Method/" title="辐射传输基础理论详解与LST反演方法">辐射传输基础理论详解与LST反演方法</a><time datetime="2024-01-20T14:16:05.000Z" title="发表于 2024-01-20 22:16:05">2024-01-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/28/Files-ReadWrite/" title="Python/Matlab/IDL之文件读写操作【CSV/Excel/JSON/XML/TXT】"><img src="/img/loading1.gif" data-original="https://s2.loli.net/2024/01/17/5fyvO89JhpKPiz4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python/Matlab/IDL之文件读写操作【CSV/Excel/JSON/XML/TXT】"/></a><div class="content"><a class="title" href="/2023/11/28/Files-ReadWrite/" title="Python/Matlab/IDL之文件读写操作【CSV/Excel/JSON/XML/TXT】">Python/Matlab/IDL之文件读写操作【CSV/Excel/JSON/XML/TXT】</a><time datetime="2023-11-28T12:45:55.000Z" title="发表于 2023-11-28 20:45:55">2023-11-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/28/Sentinel-Download/" title="哨兵系列数据下载地址及流程更新【202310】"><img src="/img/loading1.gif" data-original="https://s2.loli.net/2023/10/28/Ure9cF4EkpH8QZJ.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="哨兵系列数据下载地址及流程更新【202310】"/></a><div class="content"><a class="title" href="/2023/10/28/Sentinel-Download/" title="哨兵系列数据下载地址及流程更新【202310】">哨兵系列数据下载地址及流程更新【202310】</a><time datetime="2023-10-28T03:45:20.000Z" title="发表于 2023-10-28 11:45:20">2023-10-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/04/09/RS-Data-Process01/" title="Himawari8-9数据下载和预处理教程"><img src="/img/loading1.gif" data-original="https://s2.loli.net/2023/04/09/beX9VQlxpYdPTc2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Himawari8-9数据下载和预处理教程"/></a><div class="content"><a class="title" href="/2023/04/09/RS-Data-Process01/" title="Himawari8-9数据下载和预处理教程">Himawari8-9数据下载和预处理教程</a><time datetime="2023-04-09T09:34:19.000Z" title="发表于 2023-04-09 17:34:19">2023-04-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/27/Python-Pandas-RWF/" title="Python之Pandas读写文件及索引操作"><img src="/img/loading1.gif" data-original="https://s2.loli.net/2023/02/19/BiQTEHaJbYwIvhd.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python之Pandas读写文件及索引操作"/></a><div class="content"><a class="title" href="/2023/03/27/Python-Pandas-RWF/" title="Python之Pandas读写文件及索引操作">Python之Pandas读写文件及索引操作</a><time datetime="2023-03-27T13:57:41.000Z" title="发表于 2023-03-27 21:57:41">2023-03-27</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2024 By Xiaotangsmiles</div><div class="framework-info"><span>地址 </span><a href="https://heartlovelife.github.io">HeartLoveLife</a><span class="footer-separator">|</span><span>邮箱 </span><a href="javascript:void(0);">xiaotangsmiles@163.com</a></div><div class="footer_custom_text">Hi, welcome to my <a href="https://heartlovelife.github.io/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,n=r.imageLazyLoadSetting.preloadRatio||1,c=a();function a(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=a());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a))}()}function i(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",i),r.addEventListener("resize",i),r.addEventListener("orientationchange",i)}(this);</script></body></html>